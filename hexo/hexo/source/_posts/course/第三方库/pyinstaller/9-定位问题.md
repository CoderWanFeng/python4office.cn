---
title: ç¬¬ä¹è®²ï¼šè¿è¡Œæ—¶é—®é¢˜å®šä½ä¸è§£å†³â€”â€”ç”¨æˆ·è¯´â€œæ‰“ä¸å¼€â€æ—¶ï¼Œå¦‚ä½• 5 åˆ†é’Ÿå®šä½å¹¶ç»™å‡ºä¿®å¤åŒ…
date: 2025-07-14 09:41:49
tags: [ç¬¬ä¸‰æ–¹åº“,pyinstaller]
---




<p align="center" id='è¿›ç¾¤-banner-AI'>
    <a target="_blank" href='http://www.python4office.cn/wechat-group/'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/87fc1ca4-1a6c-47b8-b234-3e323a1aa827/aiq.jpg" width="100%"/>
    </a>   
</p>

<p align="center">
	ğŸ‘‰ <a target="_blank" href="https://www.python-office.com/">é¡¹ç›®å®˜ç½‘ï¼šhttps://www.python-office.com/</a> ğŸ‘ˆ
</p>
<p align="center">
	ğŸ‘‰ <a target="_blank" href="http://www.python4office.cn/wechat-group/">æœ¬å¼€æºé¡¹ç›®çš„äº¤æµç¾¤</a> ğŸ‘ˆ
</p>



<p align="center" name="atomgit">
  <a target="_blank" href='https://github.com/CoderWanFeng/python-office'>
    <img src="https://img.shields.io/github/stars/CoderWanFeng/python-office.svg?style=social" alt="github star"/>
    </a>
    	<a target="_blank" href='https://gitee.com/CoderWanFeng//python-office/'>
		<img src='https://gitee.com/CoderWanFeng//python-office/badge/star.svg?theme=dark' alt='gitee star'/>
	</a>
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
		<img src='https://atomgit.com/CoderWanFeng1/python-office/star/2025top.svg?theme=dark' alt='atomgit star'/>
	</a>	
</p>
<p align="center" name="atomgit">
	<a href="https://mp.weixin.qq.com/s/j8C-AsOGGM43vA0hXoCawg">
  <img src="https://img.shields.io/badge/å­¦ä¹ -AIç¼–ç¨‹-red" alt="AIç¼–ç¨‹">
</a>
    	<a href="http://www.python4office.cn/wechat-group/">
  <img src="https://img.shields.io/badge/åŠ å…¥-AIäº¤æµç¾¤-brightgreen" alt="AIäº¤æµç¾¤">
</a>

</p>

<!-- more -->



å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯ç¨‹åºå‘˜æ™šæ«ï¼Œæ­£åœ¨all in [å„ç§AIé¡¹ç›®](https://mp.weixin.qq.com/s/XQhCrkbumDqtOZXuapMpVg)ï¼Œå…¨ç½‘åŒåã€‚




--------------------------------------------------
å¼€åœº 20 ç§’  
â€œç¨‹åºåœ¨æˆ‘ç”µè„‘è·‘å¾—æ¬¢ï¼Œç”¨æˆ·ä¸€åŒå‡»å°±é—ªé€€ï¼æŠ¥é”™ï¼è¢«æ€æ¯’æ‹¦æˆªã€‚â€  
æœ¬è®² 15 åˆ†é’Ÿï¼Œç»™ä½ ä¸€å¥—â€œè¿œç¨‹é—®è¯Šâ€ä¸‰æ¿æ–§ï¼šæ—¥å¿—ã€è°ƒè¯•æ¨¡å¼ã€ç¬¦å·è¡¨ï¼›å†é™„é€ 10 ä¸ªé«˜é¢‘é”™è¯¯é€ŸæŸ¥è¡¨ï¼Œåšåˆ°ç”¨æˆ·æˆªå›¾å³å¯ç§’å›è§£å†³æ–¹æ¡ˆã€‚

--------------------------------------------------
9.1 ä¸‰æ¿æ–§ï¼šè®©ç”¨æˆ·å¸®ä½ æŠ“æ—¥å¿—ï¼ˆ3 minï¼‰

1. æ—¥å¿—å¼€å…³  
.spec é‡Œæ‰“å¼€ debug ä¸æ§åˆ¶å°ï¼Œæ–¹ä¾¿å¤ç°ï¼š  
```python
exe = EXE(
    ...
    debug=True,      # è¾“å‡ºè¯¦ç»†å›æº¯
    console=True,    # ä¿ç•™é»‘æ¡†
)
```
å‘â€œè¯Šæ–­ç‰ˆâ€ç»™ç”¨æˆ·ï¼Œå¤ç°åç«‹åˆ»å…³é—­ã€‚

2. è¿è¡Œæ—¶é’©å­è¾“å‡º `_MEIPASS` è·¯å¾„  
```python
# runtime_hook_log.py
import sys, os, pathlib, datetime
log = pathlib.Path.home() / 'myapp_debug.log'
with log.open('a', encoding='utf-8') as f:
    f.write(f"{datetime.datetime.now()}  _MEIPASS={getattr(sys, '_MEIPASS', 'None')}\n")
```
.spec åŠ å…¥  
```python
a = Analysis(..., runtime_hooks=['runtime_hook_log.py'])
```

3. ä¸€é”®æ”¶é›†è„šæœ¬ï¼ˆWindows ç¤ºä¾‹ï¼‰  
```bat
@echo off
echo æ­£åœ¨æ”¶é›†ä¿¡æ¯...
myapp.exe > log.txt 2>&1
echo log.txt å·²ç”Ÿæˆï¼Œè¯·æŠŠæ–‡ä»¶å‘ç»™æˆ‘ä»¬
pause
```

--------------------------------------------------
9.2 æœ¬åœ°å¤ç°ï¼šç”¨ `--onedir` è°ƒè¯•ï¼ˆ2 minï¼‰

æŠŠç”Ÿäº§åŒ… `--onefile` æ”¹ `--onedir`ï¼Œç›´æ¥è¿è¡Œ `dist/myapp/myapp.exe`ï¼š  
- æŠ¥é”™ä¿¡æ¯å®Œæ•´  
- ç¼º DLL/èµ„æºç«‹å³å¯è§  
ä¿®å¤åå† `--onefile` å‡ºæ­£å¼åŒ…ã€‚

--------------------------------------------------
9.3 10 ä¸ªé«˜é¢‘é”™è¯¯é€ŸæŸ¥è¡¨ï¼ˆ8 minï¼‰

| é”™è¯¯æ–‡æœ¬ | åœºæ™¯ | æ ¹å›  | ä¸€é”®ä¿®å¤ |
|---|---|---|---|
| **Error loading Python DLL** | Win 7 | ç¼º VC++ è¿è¡Œåº“ | é™„å¸¦ `vc_redist.x64.exe` æˆ–é™æ€ç¼–è¯‘ |
| **Failed to execute script main** | ä»»ä½•å¹³å° | èµ„æºè·¯å¾„é”™è¯¯ | `_MEIPASS` å®šä½ + æ£€æŸ¥ `--add-data` |
| **ImportError: libtorch.so** | Linux | ç³»ç»Ÿç¼º .so | `--add-binary "/usr/lib/libtorch.so:."` |
| **Could not find Qt platform plugin** | PyQt/PySide | æ’ä»¶æœªæ‰“åŒ… | `hiddenimports=['PyQt5.QtCore']` + `datas=[(qt_plugins, 'plugins')]` |
| **Illegal instruction (core dumped)** | Linux | CPU æŒ‡ä»¤é›†è¿‡é«˜ | ç”¨ `torch-cpu` æˆ–åœ¨ CI åŠ  `-march=x86-64` |
| **Windows Defender æŠ¥æ¯’** | æ‰€æœ‰ | UPX/ç­¾å/å¯å‘å¼ | å…³é—­ UPXã€ä»£ç ç­¾åã€æäº¤è¯¯æŠ¥ |
| **No module named 'sklearn.*'** | åŠ¨æ€ import | éšè—å¯¼å…¥ | `--hidden-import sklearn.utils._cython_blas` |
| **_tkinter.TclError: no display name** | Linux æ— æ¡Œé¢ | æ—  $DISPLAY | åˆ¤æ–­ `os.environ.get('DISPLAY')` ç»™å‡º CLI fallback |
| **macOS â€œdamagedâ€** | Gatekeeper | æœªç­¾å | `codesign --force --deep --sign -` è‡ªç­¾å |
| **é—ªé€€æ— çª—å£** | GUI ç¨‹åº | åŠ äº† `--noconsole` ä½† print æŠ¥é”™ | å‘è°ƒè¯•ç‰ˆ `--console` å…ˆçœ‹å›æº¯ |

--------------------------------------------------
9.4 è¿œç¨‹è°ƒè¯•é»‘ç§‘æŠ€ï¼ˆ2 minï¼‰

1. faulthandler åœ¨å´©æºƒæ—¶è‡ªåŠ¨å†™æ ˆ  
```python
import faulthandler, tempfile, os
faulthandler.enable(open(os.path.join(tempfile.gettempdir(), 'crash.log'), 'w'))
```

2. å´©æºƒè‡ªåŠ¨ä¸Šä¼   
```python
import requests, traceback, platform
try:
    main()
except Exception:
    with open('crash.log', 'w') as f:
        traceback.print_exc(file=f)
    requests.post("https://your-api.com/upload", files={'file': open('crash.log','rb')})
```

--------------------------------------------------
9.5 ç”¨æˆ·æ²Ÿé€šæ¨¡æ¿ï¼ˆå¯å¤åˆ¶ï¼‰

```
ã€è¯Šæ–­ç‰ˆä¸‹è½½ã€‘  
é“¾æ¥ï¼šhttps://github.com/xxx/release/dbg_v1.2.3  
ä½¿ç”¨æ­¥éª¤ï¼š  
1. è§£å‹ååŒå‡» Debug_MyApp.exe  
2. é—ªé€€åæŠŠç”Ÿæˆçš„ myapp_debug.log å‘ç»™æˆ‘ä»¬  
3. æˆ‘ä»¬ä¼š 24h å†…å›å¤ä¿®å¤åŒ…
```

--------------------------------------------------
å°ç»“ & ä½œä¸šï¼ˆ30 ç§’ï¼‰

â€¢ ä¸‰æ¿æ–§ï¼šè¯Šæ–­ç‰ˆ + æ—¥å¿— + `--onedir` æœ¬åœ°å¤ç°  
â€¢ 10 ä¸ªé”™è¯¯é€ŸæŸ¥è¡¨è´´åœ¨ READMEï¼Œå‡å°‘ 80 % é‡å¤æé—®  
â€¢ ä½œä¸šï¼šç»™è‡ªå·±é¡¹ç›®åŠ å´©æºƒæ—¥å¿—ä¸Šä¼ ï¼Œå¹¶éªŒè¯èƒ½å¦æ”¶åˆ° traceback

ä¸‹èŠ‚è¯¾ã€Šç¬¬åè®²ï¼šè¿›é˜¶ä¸»é¢˜â€”â€”è‡ªè§£å‹å®‰è£…åŒ…ã€æ’ä»¶åŒ–ã€å•†ä¸šä¿æŠ¤ã€‹æ•™ä½ æŠŠ exe åšæˆå®‰è£…å™¨ã€åŠ æˆæƒã€å†åŠ å£³ã€‚


----

å¤§å®¶åœ¨å­¦ä¹ è¯¾ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿+å¾®ä¿¡å’Œæˆ‘äº¤æµğŸ‘‰[æˆ‘çš„è”ç³»æ–¹å¼ï¼šå¾®ä¿¡ã€è¯»è€…ç¾¤ã€1å¯¹1ã€ç¦åˆ©](http://www.python4office.cn/wechat-qrcode/)


![](https://cos.python-office.com/ads/gzh/sub-py.jpg)

![æ‰«ä¸€æ‰«ï¼Œé¢†çº¢åŒ…](https://raw.atomgit.com/user-images/assets/5027920/fad13012-c22f-4c3a-b56e-c70787a55699/172ca166340cd6d0f52d356402901d4f.jpg '6152d8017a3595256e51cbd9e08e148b.png')
  
![ç¾å›¢çº¢åŒ…](https://raw.atomgit.com/user-images/assets/5027920/6aa9a60e-bb4a-423c-a75d-cbd6ecf6f370/4dbea2fec93c415c75311666f19a1022.jpg '6d283319df13b09a3f74a9f19bf18a97.jpg')






ç¨‹åºå‘˜æ™šæ«ä¸“æ³¨AIç¼–ç¨‹åŸ¹è®­ï¼Œå°ç™½çœ‹å®Œä»–çš„æ•™ç¨‹[ã€Š30è®² Â· AIç¼–ç¨‹è®­ç»ƒè¥ã€‹](https://mp.weixin.qq.com/s/j8C-AsOGGM43vA0hXoCawg)å°±èƒ½ä¸Šæ‰‹åšAIé¡¹ç›®ã€‚