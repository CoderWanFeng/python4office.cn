---
title: ç¬¬å…­è®²ï¼šå›¾å½¢ç•Œé¢åº”ç”¨æ‰“åŒ…å®æˆ˜
date: 2025-07-14 06:41:49
tags: [ç¬¬ä¸‰æ–¹åº“,pyinstaller]
---




<p align="center" id='è¿›ç¾¤-banner-AI'>
    <a target="_blank" href='http://www.python4office.cn/wechat-group/'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/87fc1ca4-1a6c-47b8-b234-3e323a1aa827/aiq.jpg" width="100%"/>
    </a>   
</p>

<p align="center">
	ğŸ‘‰ <a target="_blank" href="https://www.python-office.com/">é¡¹ç›®å®˜ç½‘ï¼šhttps://www.python-office.com/</a> ğŸ‘ˆ
</p>
<p align="center">
	ğŸ‘‰ <a target="_blank" href="http://www.python4office.cn/wechat-group/">æœ¬å¼€æºé¡¹ç›®çš„äº¤æµç¾¤</a> ğŸ‘ˆ
</p>



<p align="center" name="atomgit">
  <a target="_blank" href='https://github.com/CoderWanFeng/python-office'>
    <img src="https://img.shields.io/github/stars/CoderWanFeng/python-office.svg?style=social" alt="github star"/>
    </a>
    	<a target="_blank" href='https://gitee.com/CoderWanFeng//python-office/'>
		<img src='https://gitee.com/CoderWanFeng//python-office/badge/star.svg?theme=dark' alt='gitee star'/>
	</a>
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
		<img src='https://atomgit.com/CoderWanFeng1/python-office/star/2025top.svg?theme=dark' alt='atomgit star'/>
	</a>	
</p>
<p align="center" name="atomgit">
	<a href="https://mp.weixin.qq.com/s/7rH5U6s91hnTKCKZy4BHCg">
  <img src="https://img.shields.io/badge/å­¦ä¹ -AIç¼–ç¨‹-red" alt="AIç¼–ç¨‹">
</a>
    	<a href="http://www.python4office.cn/wechat-group/">
  <img src="https://img.shields.io/badge/åŠ å…¥-AIäº¤æµç¾¤-brightgreen" alt="AIäº¤æµç¾¤">
</a>

</p>

<!-- more -->



å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯ç¨‹åºå‘˜æ™šæ«ï¼Œæ­£åœ¨all in [å„ç§AIé¡¹ç›®](https://mp.weixin.qq.com/s/h0MExYJag6hLnQg26yx98w)ï¼Œå…¨ç½‘åŒåã€‚

ï¼ˆTkinter / PyQt5 / PySide6 ä¸€æ¬¡è®²é€ï¼Œå¸¦å›¾æ ‡ã€é«˜ DPIã€æš—é»‘æ¨¡å¼ï¼‰

--------------------------------------------------
å¼€åœº 30 ç§’  
â€œGUI ç¨‹åºæ‰“åŒ…ååŒå‡»æ— çª—å£ã€å›¾æ ‡æ¨¡ç³Šã€Qt æ’ä»¶ç¼ºå¤±ï¼Ÿâ€  
æœ¬è®² 20 åˆ†é’Ÿï¼Œç”¨ 3 ä¸ªå®Œæ•´æ¡ˆä¾‹æ¼”ç¤ºâ€œä»æºç åˆ°å®‰è£…åŒ…â€çš„å…¨æµç¨‹ï¼Œå¹¶ç»™å‡ºå¯å¤åˆ¶ç²˜è´´çš„ `.spec` æ¨¡æ¿ã€‚

--------------------------------------------------
6.0 å‰ç½®æ¸…å•ï¼ˆ1 minï¼‰

| å·¥å…· | ç‰ˆæœ¬ | ä½œç”¨ |
|---|---|---|
| pyinstaller | â‰¥ 6.8 | æ ¸å¿ƒæ‰“åŒ… |
| Tkinter | Python å†…ç½® | è½»é‡ GUI |
| PyQt5 / PySide6 | pip æœ€æ–° | è·¨å¹³å°å•†ä¸šçº§ UI |
| Qt-Tool | `pip install pyqt5-tools` | ç”Ÿæˆ .qrc / designer |

--------------------------------------------------
6.1 Tkinter å•æ–‡ä»¶æ‰“åŒ…ï¼ˆ5 minï¼‰

1. ç¤ºä¾‹æºç   
```python
# tk_hello.py
import tkinter as tk
root = tk.Tk()
root.title("Hello Tk")
tk.Label(root, text="æ‰“åŒ…æˆåŠŸï¼").pack(padx=40, pady=20)
root.mainloop()
```

2. ä¸€é”®æ‰“åŒ…  
```bash
pyinstaller --onefile --noconsole --icon=tk.ico tk_hello.py
```
3. é«˜ DPI ä¸æ¨¡ç³Š  
```python
# åœ¨ tk_hello.py é¡¶éƒ¨åŠ 
try:
    from ctypes import windll
    windll.shcore.SetProcessDpiAwareness(1)
except:
    pass
```

--------------------------------------------------
6.2 PyQt5 å®Œæ•´å·¥ç¨‹æ‰“åŒ…ï¼ˆ8 minï¼‰

1. å·¥ç¨‹ç»“æ„  
```
myqt/
â”œâ”€ main.py
â”œâ”€ ui/
â”‚  â”œâ”€ main.ui
â”‚  â””â”€ resources.qrc
â”œâ”€ icons/
â”‚  â””â”€ app.ico
â””â”€ requirements.txt
```

2. èµ„æºç¼–è¯‘  
```bash
pyrcc5 ui/resources.qrc -o ui/resources_rc.py
pyuic5 ui/main.ui -o ui/main_window.py
```

3. `.spec` æ¨¡æ¿ï¼ˆå¯ç›´æ¥æŠ„ï¼‰  
```python
# -*- mode: python -*-
import pathlib
ROOT = pathlib.Path('.').resolve()

a = Analysis(
    ['main.py'],
    pathex=[ROOT],
    binaries=[],
    datas=[(ROOT/'icons', 'icons')],
    hiddenimports=['PyQt5.sip', 'PyQt5.QtPrintSupport'],
    excludes=['PyQt5.QtWebEngine'],
    hookspath=[],
)

pyz = PYZ(a.pure, a.zipped_data)

exe = EXE(
    pyz, a.scripts, a.binaries, a.zipfiles, a.datas,
    name='MyQtApp',
    icon=ROOT/'icons/app.ico',
    debug=False,
    console=False,          # GUI æ— é»‘æ¡†
    upx=True,
    upx_exclude=['Qt5Core.dll', 'Qt5Gui.dll'],
)

# onedir å¯åŠ  COLLECTï¼›å•æ–‡ä»¶æ— éœ€
```

4. æ‰“åŒ… & è¿è¡Œ  
```bash
pyinstaller MyQtApp.spec
dist/MyQtApp/MyQtApp.exe   # æˆ– .app / æ— åç¼€
```

--------------------------------------------------
6.3 PySide6 æš—é»‘æ¨¡å¼ä¸ macOS .appï¼ˆ4 minï¼‰

1. å¯ç”¨ç³»ç»Ÿæš—é»‘  
```python
# åœ¨ main.py
from PySide6.QtCore import QCoreApplication, Qt
QCoreApplication.setAttribute(Qt.AA_EnableHighDpiScaling)
```
macOS ä¸Šè‡ªåŠ¨è·Ÿéšç³»ç»Ÿæ·±æµ…è‰²ã€‚

2. ç”Ÿæˆ .app ç»“æ„  
```bash
pyinstaller --onedir --name MySideApp --noconsole --icon app.icns main.py
```
è¾“å‡º  
```
dist/MySideApp.app/
â””â”€ Contents/MacOS/MySideApp
```
å¯ç”¨ `codesign` ç­¾ååå†å‘ç”¨æˆ·ã€‚

--------------------------------------------------
6.4 é€šç”¨é¿å‘æ¸…å•ï¼ˆ2 minï¼‰

| é—®é¢˜ | ç—‡çŠ¶ | è§£å†³ |
|---|---|---|
| Qt æ’ä»¶ç¼ºå¤± | å¯åŠ¨æŠ¥ `could not find or load the Qt platform plugin` | ç¡®ä¿ `hiddenimports` å« `PyQt5.QtCore` ä¸” `datas` æ‹·è´ `plugins/platforms` |
| å›¾æ ‡æ¨¡ç³Š | é«˜ DPI å±é”¯é½¿ | Tkinter åŠ  DPI Awarenessï¼ŒQt åŠ  `Qt.AA_EnableHighDpiScaling` |
| çª—å£æ— ç„¦ç‚¹ | macOS é¦–æ¬¡å¯åŠ¨ Dock è·³ä¸¤ä¸‹ | `Info.plist` åŠ  `LSUIElement=NO` |
| å­—ä½“å¼‚å¸¸ | ä¸­æ–‡å­—ç¬¦æ¡† | æŠŠå­—ä½“ TTF æ”¾ `datas`ï¼Œä»£ç é‡Œ `QFontDatabase.addApplicationFont` åŠ è½½ |

--------------------------------------------------
å°ç»“ & ä½œä¸šï¼ˆ30 ç§’ï¼‰

â€¢ Tkinter è½»é‡ï¼Œä¸€æ¡å‘½ä»¤å³å¯äº¤ä»˜  
â€¢ PyQt5/PySide6 éœ€å¤„ç†èµ„æºã€æ’ä»¶ã€é«˜ DPIï¼Œç”¨ `.spec` æ¨¡æ¿æœ€ç¨³  
â€¢ ä¸‹èŠ‚è¯¾ã€Šç¬¬ä¸ƒè®²ï¼šæ•°æ®ç§‘å­¦é¡¹ç›®ä¸“åœºï¼ˆNumpy/Pandas/Torch ç˜¦èº«ï¼‰ã€‹æŠŠ 500 MB çš„æœºå™¨å­¦ä¹ åŒ…ç åˆ° 150 MBã€‚


----

å¤§å®¶åœ¨å­¦ä¹ è¯¾ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿+å¾®ä¿¡å’Œæˆ‘äº¤æµğŸ‘‰[æˆ‘çš„è”ç³»æ–¹å¼ï¼šå¾®ä¿¡ã€è¯»è€…ç¾¤ã€1å¯¹1ã€ç¦åˆ©](http://www.python4office.cn/wechat-qrcode/)


![](https://cos.python-office.com/ads/gzh/sub-py.jpg)

![æ‰«ä¸€æ‰«ï¼Œé¢†çº¢åŒ…](https://raw.atomgit.com/user-images/assets/5027920/fad13012-c22f-4c3a-b56e-c70787a55699/172ca166340cd6d0f52d356402901d4f.jpg '6152d8017a3595256e51cbd9e08e148b.png')
  
![ç¾å›¢çº¢åŒ…](https://raw.atomgit.com/user-images/assets/5027920/6aa9a60e-bb4a-423c-a75d-cbd6ecf6f370/4dbea2fec93c415c75311666f19a1022.jpg '6d283319df13b09a3f74a9f19bf18a97.jpg')




