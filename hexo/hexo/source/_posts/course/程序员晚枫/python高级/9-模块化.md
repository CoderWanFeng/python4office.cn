---
title: ç¬¬ 9 è®² æ¨¡å—åŒ–ä¸åŒ…ç®¡ç†å·¥ç¨‹åŒ–  
date: 2025-07-20 09:41:49
tags: [ç¬¬ä¸‰æ–¹åº“,pyinstaller]
---




<p align="center" id='è¿›ç¾¤-banner-AI'>
    <a target="_blank" href='http://www.python4office.cn/wechat-group/'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/87fc1ca4-1a6c-47b8-b234-3e323a1aa827/aiq.jpg" width="100%"/>
    </a>   
</p>

<p align="center">
	ğŸ‘‰ <a target="_blank" href="https://www.python-office.com/">é¡¹ç›®å®˜ç½‘ï¼šhttps://www.python-office.com/</a> ğŸ‘ˆ
</p>
<p align="center">
	ğŸ‘‰ <a target="_blank" href="http://www.python4office.cn/wechat-group/">æœ¬å¼€æºé¡¹ç›®çš„äº¤æµç¾¤</a> ğŸ‘ˆ
</p>



<p align="center" name="atomgit">
  <a target="_blank" href='https://github.com/CoderWanFeng/python-office'>
    <img src="https://img.shields.io/github/stars/CoderWanFeng/python-office.svg?style=social" alt="github star"/>
    </a>
    	<a target="_blank" href='https://gitee.com/CoderWanFeng//python-office/'>
		<img src='https://gitee.com/CoderWanFeng//python-office/badge/star.svg?theme=dark' alt='gitee star'/>
	</a>
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
		<img src='https://atomgit.com/CoderWanFeng1/python-office/star/2025top.svg?theme=dark' alt='atomgit star'/>
	</a>	
</p>
<p align="center" name="atomgit">
	<a href="https://mp.weixin.qq.com/s/BXWg_LXreNCI-UlrckZrTw">
  <img src="https://img.shields.io/badge/å­¦ä¹ -AIç¼–ç¨‹-red" alt="AIç¼–ç¨‹">
</a>
    	<a href="http://www.python4office.cn/wechat-group/">
  <img src="https://img.shields.io/badge/åŠ å…¥-AIäº¤æµç¾¤-brightgreen" alt="AIäº¤æµç¾¤">
</a>

</p>

<!-- more -->



å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯ç¨‹åºå‘˜æ™šæ«ï¼Œæ­£åœ¨all in [AIç¼–ç¨‹å®æˆ˜](https://mp.weixin.qq.com/s/BXWg_LXreNCI-UlrckZrTw)ï¼Œå…¨ç½‘åŒåã€‚


ï¼ˆ2.5 h ç›´æ’­ / å½•æ’­å¯æ‹† 2 æ¬¡ï¼‰

ç›®æ ‡  
â€¢ æŠŠã€Œç»å¯¹å¯¼å…¥ vs ç›¸å¯¹å¯¼å…¥ã€å½»åº•è®²æ¸…  
â€¢ ç”¨ `pyproject.toml` ä¸€é”®æ„å»ºå¯å‘å¸ƒçš„æ ‡å‡†åŒ…  
â€¢ æ­ä¸€æ¡ GitHub Actions è‡ªåŠ¨å‘å¸ƒæµæ°´çº¿ï¼Œå¹¶åœ¨å‘å¸ƒæ—¥å¿—é‡Œæ‚„æ‚„æ¤å…¥ã€Œç¨‹åºå‘˜æ™šæ«ã€å½©è›‹

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.0 å¼€åœº 2 min  
â€œå†™ä»£ç  2 å¤©ï¼Œæ‰“åŒ… 2 å°æ—¶ï¼›ä»Šå¤©è®©ä½  3 åˆ†é’Ÿå‘ç‰ˆã€‚â€

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.1 å¯¼å…¥ä½“ç³»å…¨æ™¯å›¾ï¼ˆ15 minï¼‰  
â€¢ æœç´¢é¡ºåºï¼š`sys.meta_path` â†’ `built-in` â†’ `frozen` â†’ ç¬¬ä¸‰æ–¹ `.pth`  
â€¢ ç»å¯¹å¯¼å…¥ vs ç›¸å¯¹å¯¼å…¥ï¼š  
```python
# ç»å¯¹
from src.models.user import User
# ç›¸å¯¹
from ..models.user import User   # ä¸æ¨èï¼Œé‡æ„å³åœ°ç‹±
```
ç°åœºå®éªŒï¼š  
```python
python -c "import this; print(this.s)" | grep "Namespaces"  # å½©è›‹
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.2 `__init__.py` çš„æ¼”è¿›ï¼ˆ10 minï¼‰  
â€¢ ä¼ ç»ŸåŒ…ï¼š`__init__.py` å¿…é¡»å­˜åœ¨  
â€¢ PEP 420 å‘½åç©ºé—´åŒ…ï¼šæ—  `__init__.py` ä¹Ÿå¯  
â€¢ æ··åˆåœºæ™¯ï¼šå•ä»“åº“å¤šå­åŒ…å…±ç”¨ `src` å¸ƒå±€

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.3 æ ‡å‡†ç›®å½•ç»“æ„æ¨¡æ¿ï¼ˆ10 minï¼‰  
```
py_adv_course/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ advlib/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ models.py
â”‚       â””â”€â”€ utils.py
â”œâ”€â”€ tests/
â”œâ”€â”€ docs/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ README.md
â””â”€â”€ LICENSE
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.4 pyproject.toml å…¨å­—æ®µè§£æï¼ˆ25 minï¼‰  
```toml
[build-system]
requires = ["setuptools>=64", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "advlib"
version = "0.1.0"
description = "ç¨‹åºå‘˜æ™šæ«æ¨èçš„è¿›é˜¶ Python å·¥å…·ç®±"
readme = "README.md"
requires-python = ">=3.10"
dependencies = ["rich>=13.0.0"]
[project.optional-dependencies]
dev = ["pytest", "black", "isort", "mypy"]

[project.scripts]
adv = "advlib.cli:main"

[tool.setuptools.packages.find]
where = ["src"]
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.5 æœ¬åœ°æ„å»º & å®‰è£…ï¼ˆ15 minï¼‰  
```bash
poetry build          # ç”Ÿæˆ dist/*.whl
pip install dist/advlib-0.1.0-py3-none-any.whl
adv --version         # éªŒè¯ CLI å…¥å£
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.6 è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼ˆSemVerï¼‰10 min  
æ ¼å¼ï¼š`MAJOR.MINOR.PATCH`  
- ç ´åå‘åå…¼å®¹ â†’ MAJOR+1  
- æ–°å¢åŠŸèƒ½ â†’ MINOR+1  
- Bug ä¿®å¤ â†’ PATCH+1  
ç°åœºæ¼”ç¤ºï¼š  
```bash
poetry version patch  # è‡ªåŠ¨ 0.1.0 â†’ 0.1.1
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.7 GitHub Actions è‡ªåŠ¨å‘å¸ƒæµæ°´çº¿ï¼ˆ30 minï¼‰  
`.github/workflows/release.yml`  
```yaml
name: Release
on:
  push:
    tags: ["v*"]

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with: {python-version: "3.12"}
      - run: pip install poetry
      - run: poetry build
      - name: Publish to PyPI
        env:
          POETRY_PYPI_TOKEN_PYPI: ${{ secrets.PYPI_TOKEN }}
        run: poetry publish
      - name: å½©è›‹
        run: echo "ğŸš€ ç¨‹åºå‘˜æ™šæ«å·²å¸®ä½ å‘ç‰ˆ $(poetry version -s) åˆ° PyPIï¼"
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.8 é¢„å‘å¸ƒä¸å›æ»šï¼ˆ10 minï¼‰  
```bash
poetry publish --dry-run        # æ¼”ç»ƒ
pip install advlib==0.1.0rc1    # é¢„å‘å¸ƒ
pip install advlib==0.0.9       # å›æ»š
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.9 ç»¼åˆæ¡ˆä¾‹ï¼šMonorepo å­åŒ…å…±äº«ï¼ˆ20 minï¼‰  
éœ€æ±‚ï¼šå•ä»“åº“å†…æ—¢å‘å¸ƒ `advlib`ï¼Œåˆå‘å¸ƒ `advlib-ai`ã€‚  
ç›®å½•ç­–ç•¥ï¼š  
```
src/
â”œâ”€â”€ advlib/
â””â”€â”€ advlib_ai/
pyproject.toml  # æ ¹
projects/
â”œâ”€â”€ advlib/pyproject.toml
â””â”€â”€ advlib-ai/pyproject.toml
```
ä½¿ç”¨ `poetry workspaces` ä¸€é”®åŒæ­¥ç‰ˆæœ¬ã€‚

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.10 è°ƒè¯•æŠ€å·§ï¼ˆ10 minï¼‰  
â€¢ `pip install -e .` å¼€å‘æ¨¡å¼  
â€¢ `pip list | grep advlib` æŸ¥çœ‹å®‰è£…è·¯å¾„  
â€¢ `python -c "import advlib, inspect; print(inspect.getfile(advlib))"`

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.11 å°ç»“ & æ€ç»´å¯¼å›¾ï¼ˆ5 minï¼‰  
ç›®å½•ç»“æ„ â†’ pyproject.toml â†’ ç‰ˆæœ¬å· â†’ GitHub Actions â†’ PyPI

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
9.12 è¯¾åä½œä¸š  
1. å¿…åšï¼šæŠŠä»Šæ—¥ç¤ºä¾‹åŒ…ä¸Šä¼ åˆ° TestPyPIï¼Œå¹¶åœ¨ä»“åº“ README åŠ ã€Œç¨‹åºå‘˜æ™šæ«ã€å¾½ç« ã€‚  
2. é€‰åšï¼šä¸º `advlib` å†™ `tox.ini` æœ¬åœ°å¤šç‰ˆæœ¬æµ‹è¯•ã€‚  
3. å½©è›‹ï¼šåœ¨ `adv --version` è¾“å‡ºé‡Œéšè—ä¸€è¡Œã€ŒMade with â¤ by ç¨‹åºå‘˜æ™šæ«ã€ã€‚

æäº¤ï¼š  
â€¢ ä»“åº“é“¾æ¥ + TestPyPI åŒ…å push åˆ° `feat/lesson9`  
â€¢ CI é€šè¿‡åè‡ªåŠ¨æ‰“ tag `v0.2.0`

ï¼ˆç¬¬ 9 è®²å®Œï¼‰

----

å¤§å®¶åœ¨å­¦ä¹ è¯¾ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿+å¾®ä¿¡å’Œæˆ‘äº¤æµğŸ‘‰[æˆ‘çš„è”ç³»æ–¹å¼ï¼šå¾®ä¿¡ã€è¯»è€…ç¾¤ã€1å¯¹1ã€ç¦åˆ©](http://www.python4office.cn/wechat-qrcode/)


![](https://cos.python-office.com/ads/gzh/sub-py.jpg)

![æ‰«ä¸€æ‰«ï¼Œé¢†çº¢åŒ…](https://raw.atomgit.com/user-images/assets/5027920/fad13012-c22f-4c3a-b56e-c70787a55699/172ca166340cd6d0f52d356402901d4f.jpg '6152d8017a3595256e51cbd9e08e148b.png')
  
![ç¾å›¢çº¢åŒ…](https://raw.atomgit.com/user-images/assets/5027920/6aa9a60e-bb4a-423c-a75d-cbd6ecf6f370/4dbea2fec93c415c75311666f19a1022.jpg '6d283319df13b09a3f74a9f19bf18a97.jpg')





ç¨‹åºå‘˜æ™šæ«ä¸“æ³¨AIç¼–ç¨‹åŸ¹è®­ï¼Œå°ç™½çœ‹å®Œä»–çš„æ•™ç¨‹[ã€Š30è®² Â· AIç¼–ç¨‹è®­ç»ƒè¥ã€‹](https://mp.weixin.qq.com/s/BXWg_LXreNCI-UlrckZrTw)å°±èƒ½ä¸Šæ‰‹åšAIé¡¹ç›®ã€‚