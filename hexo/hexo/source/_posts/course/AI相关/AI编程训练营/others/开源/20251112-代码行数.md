---
title: 从300万行优化到30万行：我是如何让AI自动统计代码行数的？
date: 2025-11-12 22:41:49
tags: [AI编程]
---



<p align="center" id='扫码查看AI编程训练营'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/9209df5a-99d2-40dc-af34-b10b43be9026/12-ai.jpg" />
    </a>   
</p>




<p align="center" name="atomgit">
    <a target="_blank" href='https://github.com/CoderWanFeng/python-office'>
    <img src="https://img.shields.io/github/stars/CoderWanFeng/python-office.svg?style=social" alt="github star"/>
    </a>
    	<a target="_blank" href='https://gitee.com/CoderWanFeng//python-office/'>
		<img src='https://gitee.com/CoderWanFeng//python-office/badge/star.svg?theme=dark' alt='gitee star'/>
	</a>
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
		<img src='https://atomgit.com/CoderWanFeng1/python-office/star/2025top.svg?theme=dark' alt='atomgit star'/>
	</a>	
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
<img src="https://static.pepy.tech/badge/python-office" alt="PyPI Downloads">
</a>
<a href="https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ">
  <img src="https://img.shields.io/badge/学习-AI编程-red" alt="AI编程">
</a>
    	<a href="http://www.python4office.cn/wechat-group/">
  <img src="https://img.shields.io/badge/加入-AI交流群-brightgreen" alt="AI交流群">
</a>

</p>

<!-- more -->



大家好，这里是程序员晚枫，正在all in [AI编程实战](https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ)。

今天看到一则让人惊讶的技术新闻：腾讯某个大型项目通过架构优化，将代码从300万行精简到30万行。详情请[点我查看](https://mp.weixin.qq.com/s/kkvbHF8LzEmX5qcl9jLdQQ)。

这个代码行数的统计，让我忍不住回想起之前做开发时，遇到了一个每周靠代码行数评价我们是否认真工作的领导。

300万行代码是什么概念？如果按一个人每天写200行代码计算，需要连续写40年才能完成。而且更让我好奇的是：他们究竟是怎么统计出这么精确的行数？总不能是人工一行行数吧？

同时这个疑问也激发了我的实践灵感。作为`python-office`开源项目的维护者，我决定用AI编程来统计自己项目的代码行数。结果让我惊喜不已：整个过程我一行代码都没写，就完成了精准的统计！

> 下面大家可以和我一起操作一下，用AI编程精确统计自己写过的项目代码。

## 零代码实现：AI助手的完美表现

我使用的是Qoder这个AI编程工具，扫码下图可以领取**pro版的免费试用**。

![扫码领取](https://raw.atomgit.com/user-images/assets/5027920/4a2806c7-4ba8-4db0-bdfe-cdec209673a3/Snipaste_2025-11-10_23-30-15__2_.jpg 'Snipaste_2025-11-10_23-30-15 (2).jpg')

整个过程简单得令人惊讶：我只需要在打开python-office的项目后，对AI说"请用``pocode``这个库，帮我写一个Python脚本，统计``python-office``项目的代码行数"，不到10秒钟，AI就生成了完整的代码。

这个脚本能准确统计总行数，完全满足了我的需求。

![python-office代码总行数](https://raw.atomgit.com/user-images/assets/5027920/518e208b-74c0-4af2-adfd-d9d0a43cf51b/image.png 'image.png')


### AI生成的代码
```python

# -*- coding: utf-8 -*-
"""
统计当前项目的代码行数
使用 pocode 库自动统计项目中所有代码文件的行数
"""

import os
import pocode

# 获取脚本所在目录的父目录（项目根目录）
project_path = os.path.dirname(os.path.abspath(__file__))

# 统计代码行数
result = pocode.line.count_line(project_path)

print("="*60)
print("项目代码行数统计结果")
print("="*60)
print(f"总行数:   {result[0]:,} 行")
print(f"空行数:   {result[1]:,} 行")
print(f"注释行数: {result[2]:,} 行")
print(f"实际代码: {result[0] - result[1] - result[2]:,} 行")
print("="*60)
print(f"总计:     {sum(result):,} 行")
print("="*60)


```

更方便的是，当我想要进一步优化这个工具时，AI再次展现了它的强大。我简单地提出"请给这个脚本添加命令行参数支持"，AI在10秒内就给出了升级版代码。现在，我可以直接通过命令行指定要统计的目录，使用起来更加方便快捷。

## 如果没有AI

这次经历让我深刻体会到AI编程带来的范式转变。过去，我们要完成这样一个任务，需要经历繁琐的过程：先要搜索现成的统计工具，学习如何使用，发现不符合需求后再自己修改，最后还要调试。整个过程可能花费数小时。

![直接发命令](https://raw.atomgit.com/user-images/assets/5027920/0e447dd9-c736-4e4c-9b4d-e3274575f996/image.png 'image.png')

而现在，通过AI编程，我只需要清晰地描述需求，就能在几分钟内获得完全符合自己需求的定制化工具。

这种转变让我们从"工具使用者"进化成了**需求描述者**，不再需要纠结于语法细节和调试过程，而是可以专注于核心需求的表达。

### AI编程的深远影响

这种变化正在深刻改变着我们的工作方式。首先，它极大地降低了编程门槛。现在，即使不是编程专家，只要能够清楚地描述需求，并具备验证结果的能力，就能快速开发出实用工具。

其次，开发效率得到了指数级提升。以我这样有20年编程经验的开发者为例，使用AI后，日常开发任务快了3-5倍，调试时间减少了一半以上，让我有更多时间专注于架构设计和创新思考。

最重要的是，当技术实现不再成为障碍时，我们就能更专注于创造价值。

**可以快速验证各种想法，尝试更多可能性，解决更复杂的问题。这种解放创造力的价值，远比单纯的速度提升更为重要。**

## 让AI成为你的编程伙伴

正是基于这些亲身经历的效率革命，我开设了AI编程实战课程。这不是传统的编程教学，而是专注于培养与AI协作的能力。

在课程中，我会教你如何编写清晰的"需求说明书"，掌握调试AI生成代码的技巧，以及将复杂问题拆解为AI可理解任务的方法。

通过12次深度实战，从简单脚本到完整应用，每节课都基于我重写`python-office`项目的实战经验，是我在踩过无数坑后总结的精华。

无论你是程序员、产品经理还是数据分析师，都能立即将所学应用到实际工作中，快速提升工作效率。

这不是理论课，而是**12次深度实战**，带你：

1. **从0到1**开发AI应用
2. 掌握**AI编程思维**
3. 学会**调试和优化**AI生成的代码
4. 了解如何将AI应用**产品化**




<p align="center" id='AI编程训练营'>
    <a target="_blank" href='https://www.python-office.com/course-002/AICoding/version-001/all.html'>
    <img src="https://raw.gitcode.com/user-images/assets/5027920/1f021b1e-f401-4afa-bfa5-f1b289d351a7/599.jpg" />
    </a>   
</p>



<p align="center" id='30个名额'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/71bd2ff3-ac85-43a4-8288-164cc66e119d/image.png" width="350" height='600'/>
    </a>   
</p>

<p align="center" id='老粉的认可'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/6d5a3b73-0367-455a-ab69-4b47ca2646af/image.png" width="350" height='600'/>
    </a>   
</p>

<p align="center" id='学习群的氛围'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/b89b206c-8f44-4e1b-a9e3-4f168531b9da/image.png" width="350" height='600'/>
    </a>   
</p>

## 常见问题

Q：不会编程可以学吗？
<br/>A：可以学习，我的粉丝大多是编程小白。

Q：学习形式是什么？
<br/>A：按顺序看视频，边学边练。文档用来扩展知识，课程群用来分享资料和答疑。

Q：老粉丝有其他优惠吗？
<br/>A：我所有付过费的老粉丝，都有额外的降价优惠，最低我也会送一本书，作为再次支持的感谢。如果是已经购买了这套课程，再想学其它课程，也会有专属的优惠。

Q：有其他更高级的课程吗？
<br/>A：我后续打算还会出：AI编程出海、智能体、工作流、AI创作营，都会以本次的AI编程为基础。



### 相关阅读

- [我用AI写了一个发票批量识别软件，免费分享给大家](https://mp.weixin.qq.com/s/1V6w9CjQV8S8z8NRSc3L_w)
- [给小白的AI编程训练营](https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ)
- [我决定用AI重写这个34.7万次下载的Python库](https://mp.weixin.qq.com/s/4-spiPBgTKMu--Uw8yWQ8A)

## 写在最后

重写python-office，不仅是为了让这个项目更好用，更是想向大家证明：**AI时代，每个会思考的程序员都有机会创造奇迹。**

3年前，我没想到python-office能帮助这么多人。
今天，我相信AI编程将帮助更多人实现他们的创意。

<p align="center" id='30个名额'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/71bd2ff3-ac85-43a4-8288-164cc66e119d/image.png" width="350" height='600'/>
    </a>   
</p>

<p align="center" id='老粉的认可'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/6d5a3b73-0367-455a-ab69-4b47ca2646af/image.png" width="350" height='600'/>
    </a>   
</p>

<p align="center" id='学习群的氛围'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/b89b206c-8f44-4e1b-a9e3-4f168531b9da/image.png" width="350" height='600'/>
    </a>   
</p>

## 常见问题

Q：不会编程可以学吗？
<br/>A：可以学习，我的粉丝大多是编程小白。

Q：学习形式是什么？
<br/>A：按顺序看视频，边学边练。文档用来扩展知识，课程群用来分享资料和答疑。

Q：老粉丝有其他优惠吗？
<br/>A：我所有付过费的老粉丝，都有额外的降价优惠，最低我也会送一本书，作为再次支持的感谢。如果是已经购买了这套课程，再想学其它课程，也会有专属的优惠。

Q：有其他更高级的课程吗？
<br/>A：我后续打算还会出：AI编程出海、智能体、工作流、AI创作营，都会以本次的AI编程为基础。



### 相关阅读

- [我用AI写了一个发票批量识别软件，免费分享给大家](https://mp.weixin.qq.com/s/1V6w9CjQV8S8z8NRSc3L_w)
- [给小白的AI编程训练营](https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ)
- [CodeBuddy IDE帮我写了100%的代码，我可以被裁了](https://mp.weixin.qq.com/s/BJ9_5vOHW5B7QYJpn99-wQ)
- [用AI学编程，一键生成上万字的使用文档](https://mp.weixin.qq.com/s/t4J5BjOqTIZ1q-eZjrMsPg)
- [年轻人只想要退休，是多么悲哀的事](https://mp.weixin.qq.com/s/J3il8mIYyeKsh5GHepkLBA)


## **关于作者**  

先给新朋友介绍一下我自己，你可以叫我晚枫。

从2019年至今，我成为科技博主已经5年多了,期间没有停止过更新，也很幸运获得了一些值得自豪的收获：物质/精神的都有。

- 物质收获，详见atomgit在2025年初对我的一次采访：[DeepSeek浪潮下如何撑过35岁职场危机？跨界程序员晚枫：我不焦虑，40岁就退休](https://mp.weixin.qq.com/s/3KvzA0ZOKJCz11Sk-karOw)
- 2023年也加入了Python中国组委会，[2024年加入了Python基金会](https://mp.weixin.qq.com/s/G_Ro4UVdgv2tOE_6pHdnUA)。这是我在Python中国大会的演讲：[非程序员如何学习和使用 Python？](https://mp.weixin.qq.com/s/pJAOgaQ8vA08NrNpJzngFw)
- 我的开源项目[python-office](https://mp.weixin.qq.com/s/7aA0KoXGJuSFkTns-MZYjA)也获得了：[Github上的1200+star 和 atomgit百大开源项目](https://mp.weixin.qq.com/s/pJAOgaQ8vA08NrNpJzngFw)
- 有了一套全网播放量过百万的课程：[给小白的《50讲 · Python自动化办公》（完结）](https://mp.weixin.qq.com/s/3eVM6XX8DHRVjp2PDWOhsA)
- 📝 [三十而立，没有遗憾](https://mp.weixin.qq.com/s/26jJWW3j9PxWISR1n3drfg)

> 以上这些，我把它称为我在all in AI之前的经历。之前建立的Python主题的付费群，也有430多人加入：[Python学习 · 读者交流群](https://mp.weixin.qq.com/s/0GrWWSQ8sKs-WA8WoN3Ztg?payreadticket=HPsk3SM42QLKkwlPgzoQN00eTUDy7x7I70-jcY9jIG2bWFmjZvB7r1mF10OiNSkxknfiN08&scene=1&click_id=8)，如果你是想单纯学习Python的朋友，建议直接加这个Python群。我一直在运营中，也还会继续运营下去。

![Python群的付费记录](https://raw.atomgit.com/user-images/assets/5027920/4926e0f9-3647-45da-accb-34d132eb1385/image.png 'image.png')

从2023年接触到AI开始，我看到了AI和各行各业结合的机会，以及我作为一个博主可以分享、创作的方向，并且和小伙伴一起创立了：白开水AI社区。

开始转型AI，根本停不下来，每天都在尝试、分享、获得反馈后继续尝试，如此正向循环，犹如新生儿快速进步。

如果大家对AI感兴趣，可以加入我的AI交流群，和我一起交流成长！👇

<p align="center" id='进群-banner-AI'>
    <a target="_blank" href='http://www.python4office.cn/wechat-group/'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/87fc1ca4-1a6c-47b8-b234-3e323a1aa827/aiq.jpg" width="100%"/>
    </a>   
</p>

> 以下是最近一些有用、开始运行的AI探索：
- [我也吃上了AI的红利！分享一个邪修思路](https://mp.weixin.qq.com/s/RGakg6tIc_jcYTvjeh3zjw)
- [给小白的《30讲 · AI编程训练营》](https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ)
- [花了一个月终于搞定了！公开我的 AI 自动发文智能体，小白也能用](https://mp.weixin.qq.com/s/96CYtR9IFpGNJwOVzPDx4Q)
- [AI短视频还有红利！coze书单号，给我冲](https://mp.weixin.qq.com/s/qokwWMcCdr0PSSm3aGhssA)
- [我用AI写了一个发票批量识别软件，免费分享给大家](https://mp.weixin.qq.com/s/1V6w9CjQV8S8z8NRSc3L_w)


---

> 另外，大家去给小明的小红书👇账号点点赞吧~！我不想努力了，想吃软饭了。

![小红书：爱吃火锅的小明](https://raw.atomgit.com/user-images/assets/5027920/24fb7a85-b1f1-43ab-a208-7ebf008933b2/image.png 'image.png')


![](https://cos.python-office.com/ads/gzh/sub-py.jpg)

![扫一扫，领红包](https://raw.atomgit.com/user-images/assets/5027920/fad13012-c22f-4c3a-b56e-c70787a55699/172ca166340cd6d0f52d356402901d4f.jpg '6152d8017a3595256e51cbd9e08e148b.png')
  

![美团红包](https://raw.atomgit.com/user-images/assets/5027920/6aa9a60e-bb4a-423c-a75d-cbd6ecf6f370/4dbea2fec93c415c75311666f19a1022.jpg '4dbea2fec93c415c75311666f19a1022.jpg')

![滴滴红包](https://raw.atomgit.com/user-images/assets/5027920/d79c7834-a008-4512-a8ca-88a0b5a990a5/c14141a45d3b671ae94a11bd0556d1dc.jpg 'c14141a45d3b671ae94a11bd0556d1dc.jpg')




程序员晚枫专注AI编程培训，小白看完他的教程[《30讲 · AI编程训练营》](https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ)就能上手做AI项目。