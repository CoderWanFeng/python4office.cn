---
title: é¡¹ç›®4ï¼šç«å“ä»·æ ¼ç›‘æ§ä¸åˆ†æï¼Œæˆ‘ç”¨Pythonå®æ—¶æŒæ¡å¸‚åœºåŠ¨æ€
date: 2026-03-01 01:03:00
tags: [æ•°æ®åˆ†æ, å®æˆ˜é¡¹ç›®, ç«å“åˆ†æ, ä»·æ ¼ç›‘æ§, çˆ¬è™«]
---

<p align="center" id='æ‰«ç æŸ¥çœ‹ AI ç¼–ç¨‹è®­ç»ƒè¥'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/9209df5a-99d2-40dc-af34-b10b43be9026/12-ai.jpg" />
    </a>   
</p>

<p align="center" name="atomgit">
    <a target="_blank" href='https://github.com/CoderWanFeng/python-office'>
    <img src="https://img.shields.io/github/stars/CoderWanFeng/python-office.svg?style=social" alt="github star"/>
    </a>
    	<a target="_blank" href='https://gitee.com/CoderWanFeng//python-office/'>
		<img src='https://gitee.com/CoderWanFeng//python-office/badge/star.svg?theme=dark' alt='gitee star'/>
	</a>
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
		<img src='https://atomgit.com/CoderWanFeng1/python-office/star/2025top.svg?theme=dark' alt='atomgit star'/>
	</a>	
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
<img src="https://static.pepy.tech/badge/python-office" alt="PyPI Downloads">
</a>
<a href="https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ">
  <img src="https://img.shields.io/badge/å­¦ä¹ -AI ç¼–ç¨‹-red" alt="AI ç¼–ç¨‹">
</a>
    	<a href="http://www.python4office.cn/wechat-group/">
  <img src="https://img.shields.io/badge/åŠ å…¥-AI äº¤æµç¾¤-brightgreen" alt="AI äº¤æµç¾¤">
</a>

</p>

<!-- more -->

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ­£åœ¨å®æˆ˜å„ç§<a href="https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ" target="_blank">AIé¡¹ç›®</a>çš„ç¨‹åºå‘˜æ™šæ«ã€‚

æ¬¢è¿æ¥åˆ°ç¬¬å››ä¸ªå®æˆ˜é¡¹ç›®ï¼è¿™æ¬¡æˆ‘ä»¬è¦è§£å†³ç”µå•†äººçš„æ°¸æ’éš¾é¢˜ï¼š**ç«å“ä»·æ ¼ç›‘æ§**ã€‚

ç«äº‰å¯¹æ‰‹ä»Šå¤©é™ä»·äº†å—ï¼Ÿä»–ä»¬çš„ä¿ƒé”€ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬çš„å®šä»·æœ‰æ²¡æœ‰ç«äº‰åŠ›ï¼Ÿ**æ‰‹åŠ¨æŸ¥å¤ªè´¹åŠ²ï¼Œç”¨Pythonè‡ªåŠ¨åŒ–ç›‘æ§æ‰æ˜¯æ­£è§£ã€‚**

---

## é¡¹ç›®èƒŒæ™¯

### éœ€æ±‚åœºæ™¯
ä½ æ˜¯æŸå“ç‰Œçš„ç”µå•†è¿è¥è´Ÿè´£äººï¼š
1. ç«å“ç»å¸¸å·å·æ”¹ä»·ï¼Œå‘ç°æ—¶å·²ç»ä¸¢å•äº†
2. å¤§ä¿ƒæœŸé—´ä»·æ ¼æ³¢åŠ¨å¿«ï¼Œäººå·¥ç›¯ä¸è¿‡æ¥
3. æƒ³åˆ†æç«å“çš„ä»·æ ¼ç­–ç•¥å’Œä¿ƒé”€è§„å¾‹

### ç›®æ ‡äº§å‡º
æ­å»ºä»·æ ¼ç›‘æ§ç³»ç»Ÿï¼Œè‡ªåŠ¨æŠ“å–ã€åˆ†æç«å“æ•°æ®å¹¶é¢„è­¦ã€‚

---

## æ¨¡æ‹Ÿæ•°æ®å‡†å¤‡

```python
import pandas as pd
import numpy as np
from datetime import datetime, timedelta

# ç”Ÿæˆæ¨¡æ‹Ÿç«å“ä»·æ ¼æ•°æ®ï¼ˆå®é™…é¡¹ç›®ä¸­ç”¨çˆ¬è™«è·å–ï¼‰
np.random.seed(42)

def generate_competitor_data(days=90):
    """ç”Ÿæˆæ¨¡æ‹Ÿç«å“ä»·æ ¼æ•°æ®"""
    dates = pd.date_range(end=datetime.now(), periods=days, freq='D')
    
    competitors = ['ç«å¯¹A', 'ç«å¯¹B', 'ç«å¯¹C', 'ç«å¯¹D']
    products = [
        {'name': 'æ— çº¿è€³æœºPro', 'our_price': 299, 'category': 'æ•°ç '},
        {'name': 'æ™ºèƒ½æ‰‹è¡¨X', 'our_price': 599, 'category': 'æ•°ç '},
        {'name': 'è“ç‰™éŸ³ç®±', 'our_price': 199, 'category': 'æ•°ç '},
        {'name': 'å……ç”µå®20000mAh', 'our_price': 129, 'category': 'æ•°ç '},
    ]
    
    data = []
    for date in dates:
        for product in products:
            for competitor in competitors:
                # åŸºç¡€ä»·æ ¼ï¼ˆå›´ç»•æˆ‘ä»¬ä»·æ ¼çš„Â±20%æ³¢åŠ¨ï¼‰
                base_factor = np.random.uniform(0.85, 1.15)
                base_price = product['our_price'] * base_factor
                
                # å‘¨æœ«ä¿ƒé”€ï¼ˆæ¦‚ç‡30%ï¼Œé™ä»·10-20%ï¼‰
                if date.weekday() >= 5 and np.random.random() < 0.3:
                    promo_discount = np.random.uniform(0.8, 0.9)
                    price = int(base_price * promo_discount)
                    is_promo = True
                else:
                    price = int(base_price)
                    is_promo = False
                
                # å¶å°”çš„ä»·æ ¼æ³¢åŠ¨
                if np.random.random() < 0.1:
                    price += np.random.randint(-20, 21)
                    price = max(price, 50)  # æœ€ä½é™ä»·
                
                data.append({
                    'æ—¥æœŸ': date,
                    'äº§å“': product['name'],
                    'å“ç±»': product['category'],
                    'ç«å¯¹': competitor,
                    'ä»·æ ¼': price,
                    'æ˜¯å¦ä¿ƒé”€': is_promo,
                    'æˆ‘æ–¹ä»·æ ¼': product['our_price']
                })
    
    return pd.DataFrame(data)

# ç”Ÿæˆæ•°æ®
df = generate_competitor_data()
df.to_csv('competitor_prices.csv', index=False, encoding='utf-8-sig')
print(f"ç”Ÿæˆäº† {len(df)} æ¡ä»·æ ¼è®°å½•")
print(f"æ¶‰åŠ {df['äº§å“'].nunique()} ä¸ªäº§å“ï¼Œ{df['ç«å¯¹'].nunique()} ä¸ªç«å¯¹")
```

---

## ä»·æ ¼ç›‘æ§åˆ†æ

```python
class PriceMonitor:
    def __init__(self, data_path):
        self.df = pd.read_csv(data_path, encoding='utf-8-sig')
        self.df['æ—¥æœŸ'] = pd.to_datetime(self.df['æ—¥æœŸ'])
        print(f"åŠ è½½äº† {len(self.df)} æ¡ä»·æ ¼è®°å½•")
    
    def calculate_metrics(self):
        """è®¡ç®—ä»·æ ¼æŒ‡æ ‡"""
        # è®¡ç®—ä¸ç«å¯¹çš„ä»·æ ¼å·®å¼‚
        self.df['ä»·å·®'] = self.df['ä»·æ ¼'] - self.df['æˆ‘æ–¹ä»·æ ¼']
        self.df['ä»·å·®ç‡'] = (self.df['ä»·æ ¼'] - self.df['æˆ‘æ–¹ä»·æ ¼']) / self.df['æˆ‘æ–¹ä»·æ ¼'] * 100
        
        # æŒ‰äº§å“å’Œç«å¯¹æ±‡æ€»
        summary = self.df.groupby(['äº§å“', 'ç«å¯¹']).agg({
            'ä»·æ ¼': ['mean', 'min', 'max', 'std'],
            'ä»·å·®': 'mean',
            'ä»·å·®ç‡': 'mean',
            'æ˜¯å¦ä¿ƒé”€': 'sum'
        }).round(2)
        
        return summary
    
    def competitive_analysis(self):
        """ç«äº‰åŠ›åˆ†æ"""
        print("\nã€ç«äº‰åŠ›åˆ†ææŠ¥å‘Šã€‘")
        print("="*60)
        
        for product in self.df['äº§å“'].unique():
            product_df = self.df[self.df['äº§å“'] == product]
            our_price = product_df['æˆ‘æ–¹ä»·æ ¼'].iloc[0]
            
            print(f"\nğŸ“± {product} (æˆ‘æ–¹å®šä»·: Â¥{our_price})")
            print("-" * 40)
            
            comp_stats = product_df.groupby('ç«å¯¹').agg({
                'ä»·æ ¼': 'mean',
                'ä»·å·®ç‡': 'mean',
                'æ˜¯å¦ä¿ƒé”€': 'sum'
            }).round(2)
            
            # åˆ¤æ–­ç«äº‰æ€åŠ¿
            avg_comp_price = comp_stats['ä»·æ ¼'].mean()
            if our_price < avg_comp_price * 0.95:
                status = "ğŸŸ¢ ä»·æ ¼ä¼˜åŠ¿"
            elif our_price > avg_comp_price * 1.05:
                status = "ğŸ”´ ä»·æ ¼åŠ£åŠ¿"
            else:
                status = "ğŸŸ¡ ä»·æ ¼æŒå¹³"
            
            print(f"æ•´ä½“æ€åŠ¿: {status}")
            print(f"ç«å¯¹å‡ä»·: Â¥{avg_comp_price:.0f}")
            print("\nå„ç«å¯¹è¯¦æƒ…:")
            for comp, row in comp_stats.iterrows():
                diff_symbol = "â†‘" if row['ä»·å·®ç‡'] > 0 else "â†“"
                print(f"  {comp}: Â¥{row['ä»·æ ¼']:.0f} ({diff_symbol}{abs(row['ä»·å·®ç‡']):.1f}%) "
                      f"ä¿ƒé”€{int(row['æ˜¯å¦ä¿ƒé”€'])}æ¬¡")
    
    def detect_price_changes(self, days=7):
        """æ£€æµ‹è¿‘æœŸä»·æ ¼å˜åŠ¨"""
        recent_date = self.df['æ—¥æœŸ'].max() - timedelta(days=days)
        recent_df = self.df[self.df['æ—¥æœŸ'] >= recent_date]
        
        print(f"\nã€è¿‘{days}å¤©ä»·æ ¼å˜åŠ¨é¢„è­¦ã€‘")
        print("="*60)
        
        changes = []
        for product in recent_df['äº§å“'].unique():
            for competitor in recent_df['ç«å¯¹'].unique():
                comp_df = recent_df[(recent_df['äº§å“'] == product) & 
                                   (recent_df['ç«å¯¹'] == competitor)]
                if len(comp_df) >= 2:
                    first_price = comp_df.iloc[0]['ä»·æ ¼']
                    last_price = comp_df.iloc[-1]['ä»·æ ¼']
                    change = last_price - first_price
                    change_pct = change / first_price * 100
                    
                    if abs(change_pct) > 5:  # å˜åŠ¨è¶…è¿‡5%æ‰æŠ¥å‘Š
                        changes.append({
                            'äº§å“': product,
                            'ç«å¯¹': competitor,
                            'åŸä»·æ ¼': first_price,
                            'ç°ä»·æ ¼': last_price,
                            'å˜åŠ¨': change,
                            'å˜åŠ¨ç‡': change_pct
                        })
        
        if changes:
            changes_df = pd.DataFrame(changes)
            changes_df = changes_df.sort_values('å˜åŠ¨ç‡', ascending=False)
            
            for _, row in changes_df.head(10).iterrows():
                direction = "ğŸ“ˆ æ¶¨ä»·" if row['å˜åŠ¨'] > 0 else "ğŸ“‰ é™ä»·"
                print(f"{direction} | {row['äº§å“']} | {row['ç«å¯¹']} | "
                      f"Â¥{row['åŸä»·æ ¼']} â†’ Â¥{row['ç°ä»·æ ¼']} ({row['å˜åŠ¨ç‡']:+.1f}%)")
        else:
            print("âœ… è¿‘æœŸæ— é‡å¤§ä»·æ ¼å˜åŠ¨")
        
        return changes
    
    def promotion_pattern(self):
        """ä¿ƒé”€è§„å¾‹åˆ†æ"""
        print("\nã€ä¿ƒé”€è§„å¾‹åˆ†æã€‘")
        print("="*60)
        
        # æŒ‰æ˜ŸæœŸç»Ÿè®¡ä¿ƒé”€é¢‘ç‡
        self.df['æ˜ŸæœŸ'] = self.df['æ—¥æœŸ'].dt.day_name()
        promo_by_day = self.df.groupby(['ç«å¯¹', 'æ˜ŸæœŸ'])['æ˜¯å¦ä¿ƒé”€'].mean() * 100
        
        print("\nå„ç«å¯¹ä¿ƒé”€åå¥½ï¼ˆæŒ‰æ˜ŸæœŸï¼‰:")
        for competitor in self.df['ç«å¯¹'].unique():
            print(f"\n  {competitor}:")
            comp_promo = promo_by_day[competitor].sort_values(ascending=False)
            for day, pct in comp_promo.head(3).items():
                bar = "â–ˆ" * int(pct / 5)
                print(f"    {day}: {bar} {pct:.1f}%")
        
        # ä¿ƒé”€åŠ›åº¦åˆ†æ
        promo_df = self.df[self.df['æ˜¯å¦ä¿ƒé”€'] == True]
        if len(promo_df) > 0:
            promo_power = promo_df.groupby('ç«å¯¹').apply(
                lambda x: ((x['æˆ‘æ–¹ä»·æ ¼'] - x['ä»·æ ¼']) / x['æˆ‘æ–¹ä»·æ ¼'] * 100).mean()
            ).round(1)
            
            print("\nä¿ƒé”€åŠ›åº¦æ’è¡Œï¼ˆå¹³å‡æŠ˜æ‰£æ·±åº¦ï¼‰:")
            for comp, discount in promo_power.sort_values(ascending=False).items():
                print(f"  {comp}: {discount:.1f}% off")
```

---

## å¯è§†åŒ–åˆ†æ

```python
import matplotlib.pyplot as plt
import seaborn as sns

class PriceVisualizer:
    def __init__(self, monitor):
        self.monitor = monitor
        plt.style.use('seaborn-v0_8')
    
    def plot_price_trends(self):
        """ä»·æ ¼è¶‹åŠ¿å¯¹æ¯”å›¾"""
        fig, axes = plt.subplots(2, 2, figsize=(16, 10))
        axes = axes.flatten()
        
        products = self.monitor.df['äº§å“'].unique()
        
        for idx, product in enumerate(products[:4]):
            ax = axes[idx]
            product_df = self.monitor.df[self.monitor.df['äº§å“'] == product]
            our_price = product_df['æˆ‘æ–¹ä»·æ ¼'].iloc[0]
            
            # ç»˜åˆ¶å„ç«å¯¹çš„ä»·æ ¼çº¿
            for competitor in product_df['ç«å¯¹'].unique():
                comp_df = product_df[product_df['ç«å¯¹'] == competitor]
                ax.plot(comp_df['æ—¥æœŸ'], comp_df['ä»·æ ¼'], 
                       label=competitor, alpha=0.7, linewidth=1.5)
            
            # ç»˜åˆ¶æˆ‘æ–¹ä»·æ ¼çº¿
            ax.axhline(y=our_price, color='red', linestyle='--', 
                      linewidth=2, label='Our Price')
            
            ax.set_title(f'{product}', fontsize=12, fontweight='bold')
            ax.set_ylabel('Price (CNY)')
            ax.legend(fontsize=8)
            ax.grid(True, alpha=0.3)
        
        plt.suptitle('Competitor Price Trends by Product', fontsize=16, fontweight='bold')
        plt.tight_layout()
        plt.savefig('price_trends.png', dpi=300, bbox_inches='tight')
        plt.show()
    
    def plot_price_distribution(self):
        """ä»·æ ¼åˆ†å¸ƒç®±çº¿å›¾"""
        plt.figure(figsize=(12, 6))
        
        # å‡†å¤‡æ•°æ®
        plot_data = []
        labels = []
        
        for product in self.monitor.df['äº§å“'].unique():
            product_df = self.monitor.df[self.monitor.df['äº§å“'] == product]
            for competitor in product_df['ç«å¯¹'].unique():
                comp_prices = product_df[product_df['ç«å¯¹'] == competitor]['ä»·æ ¼'].values
                plot_data.append(comp_prices)
                labels.append(f"{product}\n{competitor}")
        
        bp = plt.boxplot(plot_data, labels=labels, patch_artist=True)
        
        # ç¾åŒ–
        colors = plt.cm.Set3(np.linspace(0, 1, len(bp['boxes'])))
        for patch, color in zip(bp['boxes'], colors):
            patch.set_facecolor(color)
        
        plt.xticks(rotation=45, ha='right')
        plt.ylabel('Price (CNY)')
        plt.title('Price Distribution by Product & Competitor', fontsize=14, fontweight='bold')
        plt.grid(True, alpha=0.3, axis='y')
        plt.tight_layout()
        plt.savefig('price_distribution.png', dpi=300, bbox_inches='tight')
        plt.show()
    
    def plot_competitive_matrix(self):
        """ç«äº‰åŠ›çŸ©é˜µçƒ­åŠ›å›¾"""
        # è®¡ç®—æ¯ä¸ªäº§å“çš„å¹³å‡ä»·å·®ç‡
        matrix = self.monitor.df.groupby(['äº§å“', 'ç«å¯¹'])['ä»·å·®ç‡'].mean().unstack()
        
        plt.figure(figsize=(10, 6))
        sns.heatmap(matrix, annot=True, fmt='.1f', cmap='RdYlGn_r', 
                   center=0, cbar_kws={'label': 'Price Difference %'})
        plt.title('Competitive Price Matrix (% vs Our Price)', 
                 fontsize=14, fontweight='bold')
        plt.xlabel('Competitor')
        plt.ylabel('Product')
        plt.tight_layout()
        plt.savefig('competitive_matrix.png', dpi=300, bbox_inches='tight')
        plt.show()
    
    def plot_promotion_calendar(self):
        """ä¿ƒé”€æ—¥å†å›¾"""
        # æŒ‰æ—¥æœŸç»Ÿè®¡ä¿ƒé”€æ¬¡æ•°
        daily_promo = self.monitor.df.groupby('æ—¥æœŸ')['æ˜¯å¦ä¿ƒé”€'].sum()
        
        plt.figure(figsize=(14, 4))
        plt.bar(daily_promo.index, daily_promo.values, 
               color='coral', alpha=0.7, width=0.8)
        plt.title('Daily Promotion Count (All Competitors)', 
                 fontsize=14, fontweight='bold')
        plt.xlabel('Date')
        plt.ylabel('Number of Promotions')
        plt.grid(True, alpha=0.3, axis='y')
        plt.tight_layout()
        plt.savefig('promotion_calendar.png', dpi=300, bbox_inches='tight')
        plt.show()
```

---

## è‡ªåŠ¨é¢„è­¦ç³»ç»Ÿ

```python
class PriceAlertSystem:
    def __init__(self, monitor):
        self.monitor = monitor
        self.alerts = []
    
    def check_alerts(self):
        """æ£€æŸ¥å„ç±»é¢„è­¦æ¡ä»¶"""
        print("\nã€ä»·æ ¼é¢„è­¦ç³»ç»Ÿã€‘")
        print("="*60)
        
        # 1. ä½ä»·é¢„è­¦ï¼ˆç«å¯¹ä½äºæˆ‘æ–¹15%ä»¥ä¸Šï¼‰
        low_price = self.monitor.df[
            self.monitor.df['ä»·å·®ç‡'] < -15
        ][['æ—¥æœŸ', 'äº§å“', 'ç«å¯¹', 'ä»·æ ¼', 'ä»·å·®ç‡']].copy()
        
        if len(low_price) > 0:
            print(f"\nğŸ”´ ä½ä»·é¢„è­¦: å‘ç° {len(low_price)} æ¡ç«å¯¹ä½ä»·è®°å½•")
            print("æœ€è¿‘5æ¡:")
            for _, row in low_price.tail(5).iterrows():
                print(f"  {row['æ—¥æœŸ'].strftime('%m-%d')} | {row['äº§å“']} | "
                      f"{row['ç«å¯¹']} | Â¥{row['ä»·æ ¼']} ({row['ä»·å·®ç‡']:.1f}%)")
        
        # 2. ä¿ƒé”€é¢„è­¦ï¼ˆç«å¯¹é¢‘ç¹ä¿ƒé”€ï¼‰
        promo_freq = self.monitor.df.groupby('ç«å¯¹')['æ˜¯å¦ä¿ƒé”€'].sum()
        high_promo = promo_freq[promo_freq > promo_freq.mean() + promo_freq.std()]
        
        if len(high_promo) > 0:
            print(f"\nğŸŸ  ä¿ƒé”€é¢„è­¦: ä»¥ä¸‹ç«å¯¹ä¿ƒé”€é¢‘ç‡å¼‚å¸¸")
            for comp, count in high_promo.items():
                print(f"  {comp}: {count} æ¬¡ä¿ƒé”€")
        
        # 3. ä»·æ ¼å¼‚åŠ¨é¢„è­¦ï¼ˆå•æ—¥å˜åŠ¨>10%ï¼‰
        latest_date = self.monitor.df['æ—¥æœŸ'].max()
        latest_df = self.monitor.df[self.monitor.df['æ—¥æœŸ'] == latest_date]
        prev_df = self.monitor.df[self.monitor.df['æ—¥æœŸ'] == latest_date - timedelta(days=1)]
        
        if len(prev_df) > 0:
            for _, curr in latest_df.iterrows():
                prev = prev_df[(prev_df['äº§å“'] == curr['äº§å“']) & 
                              (prev_df['ç«å¯¹'] == curr['ç«å¯¹'])]
                if len(prev) > 0:
                    change = (curr['ä»·æ ¼'] - prev['ä»·æ ¼'].iloc[0]) / prev['ä»·æ ¼'].iloc[0] * 100
                    if abs(change) > 10:
                        direction = "å¤§æ¶¨" if change > 0 else "å¤§è·Œ"
                        print(f"\nâš ï¸ å¼‚åŠ¨é¢„è­¦: {curr['äº§å“']} - {curr['ç«å¯¹']} ä»·æ ¼{direction} {abs(change):.1f}%")
        
        # 4. ç»¼åˆå»ºè®®
        print("\nğŸ’¡ åº”å¯¹å»ºè®®:")
        
        # æ‰¾å‡ºæœ€æ¿€è¿›çš„ç«å¯¹
        avg_discount = self.monitor.df.groupby('ç«å¯¹')['ä»·å·®ç‡'].mean()
        most_aggressive = avg_discount.idxmin()
        
        print(f"  1. é‡ç‚¹å…³æ³¨: {most_aggressive} æ•´ä½“ä»·æ ¼ä½ {abs(avg_discount.min()):.1f}%")
        print(f"  2. å»ºè®®è·Ÿè¿›ä¿ƒé”€çš„äº§å“: {low_price['äº§å“'].value_counts().index[0] if len(low_price) > 0 else 'æš‚æ— '}")
        print(f"  3. å¯è€ƒè™‘æä»·çš„äº§å“: ç«äº‰åŠ›å¼ºçš„äº§å“")
        
        return self.alerts
    
    def generate_report(self, output_file='price_monitor_report.html'):
        """ç”ŸæˆHTMLæŠ¥å‘Š"""
        html_content = f"""
        <!DOCTYPE html>
        <html>
        <head>
            <title>ç«å“ä»·æ ¼ç›‘æ§æŠ¥å‘Š</title>
            <style>
                body {{ font-family: Arial, sans-serif; margin: 40px; }}
                h1 {{ color: #333; }}
                h2 {{ color: #666; border-bottom: 2px solid #ddd; padding-bottom: 10px; }}
                table {{ border-collapse: collapse; width: 100%; margin: 20px 0; }}
                th, td {{ border: 1px solid #ddd; padding: 12px; text-align: left; }}
                th {{ background-color: #4CAF50; color: white; }}
                tr:nth-child(even) {{ background-color: #f2f2f2; }}
                .alert {{ color: red; font-weight: bold; }}
                .good {{ color: green; }}
            </style>
        </head>
        <body>
            <h1>ç«å“ä»·æ ¼ç›‘æ§æŠ¥å‘Š</h1>
            <p>ç”Ÿæˆæ—¶é—´: {datetime.now().strftime('%Y-%m-%d %H:%M')}</p>
            
            <h2>ç›‘æ§æ¦‚è§ˆ</h2>
            <ul>
                <li>ç›‘æ§äº§å“æ•°: {self.monitor.df['äº§å“'].nunique()}</li>
                <li>ç›‘æ§ç«å¯¹æ•°: {self.monitor.df['ç«å¯¹'].nunique()}</li>
                <li>æ•°æ®æ—¶é—´èŒƒå›´: {self.monitor.df['æ—¥æœŸ'].min().strftime('%Y-%m-%d')} ~ {self.monitor.df['æ—¥æœŸ'].max().strftime('%Y-%m-%d')}</li>
            </ul>
            
            <h2>ä»·æ ¼å¯¹æ¯”è¡¨</h2>
            {self.monitor.calculate_metrics().to_html()}
        </body>
        </html>
        """
        
        with open(output_file, 'w', encoding='utf-8') as f:
            f.write(html_content)
        
        print(f"\n  âœ“ HTMLæŠ¥å‘Šå·²ç”Ÿæˆ: {output_file}")
```

---

## ä¸»ç¨‹åº

```python
def main():
    """ä¸»ç¨‹åº"""
    print("="*60)
    print("ç«å“ä»·æ ¼ç›‘æ§ä¸åˆ†æç³»ç»Ÿ")
    print("="*60)
    
    # 1. åŠ è½½æ•°æ®
    print("\n[1/5] åŠ è½½ä»·æ ¼æ•°æ®...")
    monitor = PriceMonitor('competitor_prices.csv')
    
    # 2. ç«äº‰åŠ›åˆ†æ
    print("\n[2/5] ç«äº‰åŠ›åˆ†æ...")
    monitor.calculate_metrics()
    monitor.competitive_analysis()
    
    # 3. ä»·æ ¼å˜åŠ¨æ£€æµ‹
    print("\n[3/5] æ£€æµ‹ä»·æ ¼å˜åŠ¨...")
    monitor.detect_price_changes(days=7)
    
    # 4. ä¿ƒé”€è§„å¾‹
    print("\n[4/5] ä¿ƒé”€è§„å¾‹åˆ†æ...")
    monitor.promotion_pattern()
    
    # 5. å¯è§†åŒ–
    print("\n[5/5] ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨...")
    visualizer = PriceVisualizer(monitor)
    visualizer.plot_price_trends()
    visualizer.plot_price_distribution()
    visualizer.plot_competitive_matrix()
    visualizer.plot_promotion_calendar()
    
    # 6. é¢„è­¦ç³»ç»Ÿ
    print("\n[6/6] è¿è¡Œé¢„è­¦ç³»ç»Ÿ...")
    alert_system = PriceAlertSystem(monitor)
    alert_system.check_alerts()
    alert_system.generate_report()
    
    print("\n" + "="*60)
    print("åˆ†æå®Œæˆï¼")
    print("="*60)

if __name__ == "__main__":
    main()
```

---

## é¡¹ç›®æ€»ç»“

### å­¦åˆ°çš„æŠ€èƒ½
- âœ… ç«å“æ•°æ®é‡‡é›†ä¸å¤„ç†
- âœ… ä»·æ ¼ç«äº‰åŠ›åˆ†æ
- âœ… ä¿ƒé”€è§„å¾‹æŒ–æ˜
- âœ… è‡ªåŠ¨é¢„è­¦ç³»ç»Ÿè®¾è®¡

### å®æˆ˜ä»·å€¼
| åœºæ™¯ | åº”ç”¨ |
|------|------|
| æ—¥å¸¸ç›‘æ§ | å®šæ—¶æŠ“å–ç«å“ä»·æ ¼ï¼Œå‘ç°å¼‚å¸¸ç«‹å³é€šçŸ¥ |
| å¤§ä¿ƒå¤‡æˆ˜ | åˆ†æå†å²ä¿ƒé”€è§„å¾‹ï¼Œåˆ¶å®šåº”å¯¹ç­–ç•¥ |
| å®šä»·å†³ç­– | åŸºäºç«å¯¹ä»·æ ¼åˆ†å¸ƒï¼Œç¡®å®šæœ€ä¼˜å®šä»·åŒºé—´ |
| å¸‚åœºæ´å¯Ÿ | è¯†åˆ«ç«å¯¹çš„è¿è¥èŠ‚å¥å’Œæˆ˜ç•¥æ„å›¾ |

### æ‰©å±•æ–¹å‘
- æ¥å…¥çœŸå®ç”µå•†å¹³å°APIæˆ–çˆ¬è™«
- æœºå™¨å­¦ä¹ é¢„æµ‹ç«å¯¹ä»·æ ¼èµ°åŠ¿
- è‡ªåŠ¨åŒ–è°ƒä»·ç³»ç»Ÿå¯¹æ¥
- å¤šç»´åº¦ç«å“åˆ†æï¼ˆè¯„ä»·ã€é”€é‡ç­‰ï¼‰

---

## ä¸‹èŠ‚é¢„å‘Š

ä¸‹ä¸€é¡¹ç›®æ˜¯**æ•°æ®çœ‹æ¿æ­å»º**ï¼Œå­¦ä¹ å¦‚ä½•ç”¨Dash/Streamlitåˆ¶ä½œäº¤äº’å¼æ•°æ®çœ‹æ¿ï¼Œè®©æ•°æ®åˆ†ææˆæœä¸€ç›®äº†ç„¶ã€‚

ğŸ‘‰ **[ç»§ç»­é˜…è¯»ï¼šé¡¹ç›®5-äº¤äº’å¼æ•°æ®çœ‹æ¿æ­å»º](/course/AIç›¸å…³/äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾/ads/openclaw/data-analysis/20260301010401-é¡¹ç›®5-äº¤äº’å¼æ•°æ®çœ‹æ¿æ­å»º/)**

---

## ğŸ’¬ åŠ å…¥å­¦ä¹ äº¤æµç¾¤

æ‰«ç åŠ å…¥**Pythonå­¦ä¹ äº¤æµç¾¤**ï¼Œå’Œæ•°åƒååŒå­¦ä¸€èµ·è¿›æ­¥ï¼š

ğŸ‘‰ **[ç‚¹å‡»åŠ å…¥äº¤æµç¾¤](http://www.python4office.cn/wechat-group/)**

ç¾¤é‡Œä¸å®šæœŸåˆ†äº«ï¼š
- æ•°æ®åˆ†æå®æˆ˜æ¡ˆä¾‹
- Pythonå­¦ä¹ èµ„æ–™
- æ±‚èŒé¢è¯•ç»éªŒ
- è¡Œä¸šæœ€æ–°åŠ¨æ€

---

## æ¨èï¼šAI Pythonæ•°æ®åˆ†æå®æˆ˜è¥

ğŸ **é™æ—¶ç¦åˆ©**ï¼šé€ã€Šåˆ©ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æã€‹å®ä½“ä¹¦

ğŸ‘‰ **[ç‚¹å‡»äº†è§£è¯¦æƒ…](https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ)**

---

## è¯¾ç¨‹å¯¼èˆª

**ä¸Šä¸€ç¯‡ï¼š** [é¡¹ç›®3-åº“å­˜åˆ†æä¸é”€é‡é¢„æµ‹](/course/AIç›¸å…³/äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾/ads/openclaw/data-analysis/20260301010201-é¡¹ç›®3-åº“å­˜åˆ†æä¸é”€é‡é¢„æµ‹/)

**ä¸‹ä¸€ç¯‡ï¼š** [é¡¹ç›®5-äº¤äº’å¼æ•°æ®çœ‹æ¿æ­å»º](/course/AIç›¸å…³/äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾/ads/openclaw/data-analysis/20260301010401-é¡¹ç›®5-äº¤äº’å¼æ•°æ®çœ‹æ¿æ­å»º/)

---

*PSï¼šçŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ˜ä¸æ®†ã€‚ç›‘æ§ç«å“æ˜¯è¿è¥çš„å¿…ä¿®è¯¾ï¼Œç”¨Pythonè‡ªåŠ¨åŒ–åï¼Œä½ å¯ä»¥æŠŠç²¾åŠ›æ”¾åœ¨æ›´é‡è¦çš„ç­–ç•¥åˆ¶å®šä¸Šã€‚*
