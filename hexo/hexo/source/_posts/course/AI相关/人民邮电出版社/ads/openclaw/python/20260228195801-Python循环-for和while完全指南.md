---
title: Python循环：我用for和while自动化处理1000份文件
date: 2026-02-28 19:58:00
tags: [Python基础, 循环, for, while]
---

<p align="center" id='扫码查看 AI 编程训练营'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/9209df5a-99d2-40dc-af34-b10b43be9026/12-ai.jpg" />
    </a>   
</p>

<p align="center" name="atomgit">
    <a target="_blank" href='https://github.com/CoderWanFeng/python-office'>
    <img src="https://img.shields.io/github/stars/CoderWanFeng/python-office.svg?style=social" alt="github star"/>
    </a>
    	<a target="_blank" href='https://gitee.com/CoderWanFeng//python-office/'>
		<img src='https://gitee.com/CoderWanFeng//python-office/badge/star.svg?theme=dark' alt='gitee star'/>
	</a>
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
		<img src='https://atomgit.com/CoderWanFeng1/python-office/star/2025top.svg?theme=dark' alt='atomgit star'/>
	</a>	
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
<img src="https://static.pepy.tech/badge/python-office" alt="PyPI Downloads">
</a>
<a href="https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ">
  <img src="https://img.shields.io/badge/学习-AI 编程-red" alt="AI 编程">
</a>
    	<a href="http://www.python4office.cn/wechat-group/">
  <img src="https://img.shields.io/badge/加入-AI 交流群-brightgreen" alt="AI 交流群">
</a>

</p>

<!-- more -->

大家好，我是正在实战各种AI项目的程序员晚枫。

上一篇我们学习了条件判断。今天来学习**循环（for和while）**，这是让程序重复执行任务的关键。

有了循环，你可以一次性处理成千上万的数据，真正实现自动化。

---

## for循环：遍历序列

### 基本语法
```python
fruits = ["apple", "banana", "cherry"]

for fruit in fruits:
    print(f"我喜欢吃{fruit}")

# 输出：
# 我喜欢吃apple
# 我喜欢吃banana
# 我喜欢吃cherry
```

**原理**：依次取出列表中的每个元素，赋值给`fruit`，执行循环体。

---

## range函数：生成数字序列

```python
# 0到4
for i in range(5):
    print(i)  # 0, 1, 2, 3, 4

# 2到6
for i in range(2, 7):
    print(i)  # 2, 3, 4, 5, 6

# 0到10，步长为2
for i in range(0, 11, 2):
    print(i)  # 0, 2, 4, 6, 8, 10

# 倒序
for i in range(5, 0, -1):
    print(i)  # 5, 4, 3, 2, 1
```

---

## while循环：条件控制

```python
count = 0

while count < 5:
    print(f"计数: {count}")
    count += 1

print("循环结束")
```

**注意**：要确保循环条件最终会变为False，否则会无限循环！

---

## 循环控制语句

### break：立即退出循环
```python
for i in range(10):
    if i == 5:
        break  # 遇到5就退出
    print(i)  # 输出: 0, 1, 2, 3, 4
```

### continue：跳过当前迭代
```python
for i in range(5):
    if i == 2:
        continue  # 跳过2
    print(i)  # 输出: 0, 1, 3, 4
```

### else：循环正常结束时执行
```python
for i in range(5):
    print(i)
else:
    print("循环正常完成")  # 会执行

# 如果循环被break，else不会执行
for i in range(5):
    if i == 3:
        break
    print(i)
else:
    print("循环正常完成")  # 不会执行
```

---

## 嵌套循环

```python
# 打印乘法表
for i in range(1, 10):
    for j in range(1, i + 1):
        print(f"{j}×{i}={i*j}", end="\t")
    print()  # 换行
```

**注意**：嵌套层数不宜过多，否则可读性差。

---

## 实用技巧

### 技巧1：同时获取索引和值
```python
fruits = ["apple", "banana", "cherry"]

# 方法1：enumerate
for index, fruit in enumerate(fruits):
    print(f"{index}: {fruit}")

# 方法2：range + len（不推荐）
for i in range(len(fruits)):
    print(f"{i}: {fruits[i]}")
```

### 技巧2：同时遍历多个序列
```python
names = ["Alice", "Bob", "Charlie"]
ages = [25, 30, 35]

for name, age in zip(names, ages):
    print(f"{name} is {age} years old")
```

### 技巧3：遍历字典
```python
person = {"name": "Alice", "age": 25, "city": "Beijing"}

# 遍历key
for key in person:
    print(key)

# 遍历value
for value in person.values():
    print(value)

# 遍历key-value
for key, value in person.items():
    print(f"{key}: {value}")
```

👉 **[深入学习：Python字典使用技巧](/course/AI相关/人民邮电出版社/ads/openclaw/python/20260228172701-Python字典-被低估的数据结构/)**

---

## for vs while：怎么选？

| 场景 | 推荐 |
|-----|------|
| 已知循环次数 | for |
| 遍历序列 | for |
| 未知循环次数，有条件 | while |
| 需要无限循环 | while True |

---

## 避坑指南

### ❌ 错误1：忘记更新循环变量
```python
count = 0
while count < 5:
    print(count)
    # 忘记写 count += 1，导致无限循环！
```

### ❌ 错误2：在循环中修改正在遍历的列表
```python
numbers = [1, 2, 3, 4, 5]

for num in numbers:
    if num % 2 == 0:
        numbers.remove(num)  # 危险！会导致跳过某些元素

# 正确做法：创建新列表
numbers = [num for num in numbers if num % 2 != 0]
```

---

## 实战：批量重命名文件

```python
import os

def batch_rename(folder_path, prefix):
    """给文件夹中的所有文件添加前缀"""
    count = 0
    
    for filename in os.listdir(folder_path):
        old_path = os.path.join(folder_path, filename)
        
        # 跳过目录
        if os.path.isdir(old_path):
            continue
        
        # 新文件名
        new_filename = f"{prefix}_{filename}"
        new_path = os.path.join(folder_path, new_filename)
        
        # 重命名
        os.rename(old_path, new_path)
        count += 1
        print(f"重命名: {filename} -> {new_filename}")
    
    print(f"共处理了 {count} 个文件")

# 使用
batch_rename("./documents", "2024")
```

---

## 下节预告

下一篇我们将学习**函数基础**，学会封装可复用的代码块。

👉 **[继续阅读：Python函数基础-从定义到调用](/course/AI相关/人民邮电出版社/ads/openclaw/python/20260228195901-Python函数基础-从定义到调用/)**

---

## 推荐：AI Python零基础实战营

🎁 **限时福利**：送《Python编程从入门到实践》实体书

👉 **[点击了解详情](https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ)**

---

## 课程导航

**上一篇：** [Python条件判断-if-else完全指南](/course/AI相关/人民邮电出版社/ads/openclaw/python/20260228195701-Python条件判断-if-else完全指南/)

**下一篇：** [Python函数基础-从定义到调用](/course/AI相关/人民邮电出版社/ads/openclaw/python/20260228195901-Python函数基础-从定义到调用/)

---

*PS：循环是自动化的核心。掌握它，你就能批量处理任何重复性工作。*
