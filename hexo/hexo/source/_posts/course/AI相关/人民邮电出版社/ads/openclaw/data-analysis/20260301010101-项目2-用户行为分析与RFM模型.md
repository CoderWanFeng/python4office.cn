---
title: é¡¹ç›®2ï¼šç”¨æˆ·è¡Œä¸ºåˆ†æä¸RFMæ¨¡å‹ï¼Œæˆ‘ç”¨Pythonç²¾å‡†è¯†åˆ«é«˜ä»·å€¼å®¢æˆ·
date: 2026-03-01 01:01:00
tags: [æ•°æ®åˆ†æ, å®æˆ˜é¡¹ç›®, ç”¨æˆ·åˆ†æ, RFMæ¨¡å‹, å®¢æˆ·åˆ†å±‚]
---

<p align="center" id='æ‰«ç æŸ¥çœ‹ AI ç¼–ç¨‹è®­ç»ƒè¥'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ'>
    <img src="https://raw.atomgit.com/user-images/assets/5027920/9209df5a-99d2-40dc-af34-b10b43be9026/12-ai.jpg" />
    </a>   
</p>

<p align="center" name="atomgit">
    <a target="_blank" href='https://github.com/CoderWanFeng/python-office'>
    <img src="https://img.shields.io/github/stars/CoderWanFeng/python-office.svg?style=social" alt="github star"/>
    </a>
    	<a target="_blank" href='https://gitee.com/CoderWanFeng//python-office/'>
		<img src='https://gitee.com/CoderWanFeng//python-office/badge/star.svg?theme=dark' alt='gitee star'/>
	</a>
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
		<img src='https://atomgit.com/CoderWanFeng1/python-office/star/2025top.svg?theme=dark' alt='atomgit star'/>
	</a>	
	<a target="_blank" href='https://atomgit.com/CoderWanFeng1/python-office'>
<img src="https://static.pepy.tech/badge/python-office" alt="PyPI Downloads">
</a>
<a href="https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ">
  <img src="https://img.shields.io/badge/å­¦ä¹ -AI ç¼–ç¨‹-red" alt="AI ç¼–ç¨‹">
</a>
    	<a href="http://www.python4office.cn/wechat-group/">
  <img src="https://img.shields.io/badge/åŠ å…¥-AI äº¤æµç¾¤-brightgreen" alt="AI äº¤æµç¾¤">
</a>

</p>

<!-- more -->

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ­£åœ¨å®æˆ˜å„ç§<a href="https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ" target="_blank">AIé¡¹ç›®</a>çš„ç¨‹åºå‘˜æ™šæ«ã€‚

æ¬¢è¿æ¥åˆ°ç¬¬äºŒä¸ªå®æˆ˜é¡¹ç›®ï¼è¿™æ¬¡æˆ‘ä»¬è¦èŠçš„æ˜¯**ç”¨æˆ·è¡Œä¸ºåˆ†æ**ï¼Œæ ¸å¿ƒå·¥å…·æ˜¯ç»å…¸çš„**RFMæ¨¡å‹**ã€‚

åšè¿è¥çš„æœ‹å‹éƒ½çŸ¥é“ï¼Œç”¨æˆ·ä¸æ˜¯é“æ¿ä¸€å—ã€‚æœ‰çš„ç”¨æˆ·å¤©å¤©ä¹°ï¼Œæœ‰çš„ä¹°å®Œå°±è·‘ï¼›æœ‰çš„å‡ºæ‰‹é˜”ç»°ï¼Œæœ‰çš„åªè–…ç¾Šæ¯›ã€‚**RFMæ¨¡å‹å°±æ˜¯å¸®ä½ æŠŠç”¨æˆ·åˆ†å±‚çš„åˆ©å™¨**ï¼Œè®©ä½ çŸ¥é“è¯¥å¯¹è°é‡ç‚¹æŠ•å…¥ï¼Œè¯¥æ”¾å¼ƒè°ã€‚

---

## é¡¹ç›®èƒŒæ™¯

### éœ€æ±‚åœºæ™¯
ä½ æ˜¯æŸç”µå•†å¹³å°çš„ç”¨æˆ·è¿è¥è´Ÿè´£äººï¼Œé¢ä¸´è¿™äº›é—®é¢˜ï¼š
1. ç”¨æˆ·æ•°é‡åºå¤§ï¼Œä¸çŸ¥é“è°æ˜¯æ ¸å¿ƒç”¨æˆ·
2. è¥é”€é¢„ç®—æœ‰é™ï¼Œæƒ³æŠŠé’±èŠ±åœ¨åˆ€åˆƒä¸Š
3. æƒ³é’ˆå¯¹ä¸åŒç”¨æˆ·åˆ¶å®šå·®å¼‚åŒ–ç­–ç•¥

### ç›®æ ‡äº§å‡º
ç”¨RFMæ¨¡å‹å¯¹ç”¨æˆ·è¿›è¡Œåˆ†å±‚ï¼Œè¾“å‡ºå¯æ‰§è¡Œçš„è¿è¥ç­–ç•¥å»ºè®®ã€‚

---

## ä»€ä¹ˆæ˜¯RFMæ¨¡å‹ï¼Ÿ

RFMæ˜¯ä¸‰ä¸ªè‹±æ–‡å•è¯çš„é¦–å­—æ¯ï¼š

| æŒ‡æ ‡ | å«ä¹‰ | ä¸šåŠ¡æ„ä¹‰ |
|------|------|----------|
| **R (Recency)** | æœ€è¿‘ä¸€æ¬¡æ¶ˆè´¹è·ä»Šå¤©æ•° | Rè¶Šå°è¶Šæ´»è·ƒ |
| **F (Frequency)** | æ¶ˆè´¹é¢‘æ¬¡ | Fè¶Šå¤§è¶Šå¿ è¯š |
| **M (Monetary)** | æ¶ˆè´¹é‡‘é¢ | Mè¶Šå¤§ä»·å€¼è¶Šé«˜ |

**æ ¸å¿ƒé€»è¾‘**ï¼šæœ€è¿‘ä¹°è¿‡ã€ç»å¸¸ä¹°ã€èŠ±å¾—å¤šçš„ç”¨æˆ·ï¼Œå°±æ˜¯æœ€å€¼é’±çš„ç”¨æˆ·ã€‚

---

## å‡†å¤‡æ•°æ®

```python
import pandas as pd
import numpy as np
from datetime import datetime, timedelta

# ç”Ÿæˆæ¨¡æ‹Ÿç”¨æˆ·äº¤æ˜“æ•°æ®
np.random.seed(42)

def generate_user_transactions(n_users=1000, days=365):
    """ç”Ÿæˆç”¨æˆ·äº¤æ˜“è®°å½•"""
    end_date = datetime(2024, 12, 31)
    
    data = []
    for user_id in range(1, n_users + 1):
        # éšæœºå†³å®šè¿™ä¸ªç”¨æˆ·çš„æ´»è·ƒåº¦ç±»å‹
        user_type = np.random.choice(
            ['é«˜é¢‘é«˜ä»·å€¼', 'é«˜é¢‘ä½ä»·å€¼', 'ä½é¢‘é«˜ä»·å€¼', 'æµå¤±é£é™©', 'æ–°ç”¨æˆ·'],
            p=[0.15, 0.25, 0.15, 0.30, 0.15]
        )
        
        if user_type == 'é«˜é¢‘é«˜ä»·å€¼':
            n_orders = np.random.randint(20, 50)
            avg_amount = np.random.randint(500, 2000)
        elif user_type == 'é«˜é¢‘ä½ä»·å€¼':
            n_orders = np.random.randint(15, 40)
            avg_amount = np.random.randint(50, 200)
        elif user_type == 'ä½é¢‘é«˜ä»·å€¼':
            n_orders = np.random.randint(3, 8)
            avg_amount = np.random.randint(1000, 5000)
        elif user_type == 'æµå¤±é£é™©':
            n_orders = np.random.randint(1, 5)
            avg_amount = np.random.randint(100, 800)
        else:  # æ–°ç”¨æˆ·
            n_orders = np.random.randint(1, 3)
            avg_amount = np.random.randint(200, 1000)
        
        # ç”Ÿæˆè®¢å•æ—¥æœŸï¼ˆé›†ä¸­åœ¨ä¸åŒæ—¶é—´æ®µï¼‰
        if user_type == 'æµå¤±é£é™©':
            # æµå¤±ç”¨æˆ·ï¼šè®¢å•éƒ½åœ¨æ—©æœŸ
            dates = pd.date_range(end=end_date - timedelta(days=180), periods=n_orders, freq='D')
        elif user_type == 'æ–°ç”¨æˆ·':
            # æ–°ç”¨æˆ·ï¼šè®¢å•éƒ½åœ¨è¿‘æœŸ
            dates = pd.date_range(end=end_date, periods=n_orders, freq='D')
        else:
            # å…¶ä»–ç”¨æˆ·ï¼šåˆ†æ•£åœ¨å…¨å¹´
            dates = pd.date_range(end=end_date, periods=n_orders, freq=f'{365//n_orders}D')
        
        for date in dates[:n_orders]:
            data.append({
                'ç”¨æˆ·ID': f'USER{user_id:05d}',
                'è®¢å•æ—¥æœŸ': date,
                'è®¢å•é‡‘é¢': max(10, int(np.random.normal(avg_amount, avg_amount * 0.3))),
                'ç”¨æˆ·ç±»å‹': user_type
            })
    
    return pd.DataFrame(data)

# ç”Ÿæˆæ•°æ®
df = generate_user_transactions(n_users=1000)
df.to_csv('user_transactions.csv', index=False, encoding='utf-8-sig')
print(f"ç”Ÿæˆäº† {len(df)} æ¡äº¤æ˜“è®°å½•ï¼Œæ¶‰åŠ {df['ç”¨æˆ·ID'].nunique()} ä¸ªç”¨æˆ·")
```

---

## è®¡ç®—RFMæŒ‡æ ‡

```python
class RFMAnalyzer:
    def __init__(self, data_path, analysis_date=None):
        self.df = pd.read_csv(data_path, encoding='utf-8-sig')
        self.df['è®¢å•æ—¥æœŸ'] = pd.to_datetime(self.df['è®¢å•æ—¥æœŸ'])
        self.analysis_date = analysis_date or self.df['è®¢å•æ—¥æœŸ'].max()
        print(f"åˆ†æåŸºå‡†æ—¥æœŸ: {self.analysis_date.strftime('%Y-%m-%d')}")
        print(f"å…± {self.df['ç”¨æˆ·ID'].nunique()} ä¸ªç”¨æˆ·ï¼Œ{len(self.df)} ç¬”äº¤æ˜“")
    
    def calculate_rfm(self):
        """è®¡ç®—æ¯ä¸ªç”¨æˆ·çš„RFMæŒ‡æ ‡"""
        rfm = self.df.groupby('ç”¨æˆ·ID').agg({
            'è®¢å•æ—¥æœŸ': lambda x: (self.analysis_date - x.max()).days,  # Recency
            'è®¢å•é‡‘é¢': ['count', 'sum']  # Frequency, Monetary
        }).reset_index()
        
        # é‡å‘½ååˆ—
        rfm.columns = ['ç”¨æˆ·ID', 'R', 'F', 'M']
        
        # ç¡®ä¿æ•°æ®ç±»å‹æ­£ç¡®
        rfm['R'] = rfm['R'].astype(int)
        rfm['F'] = rfm['F'].astype(int)
        rfm['M'] = rfm['M'].astype(float)
        
        self.rfm = rfm
        return rfm
    
    def rfm_summary(self):
        """RFMæŒ‡æ ‡ç»Ÿè®¡æ‘˜è¦"""
        return self.rfm[['R', 'F', 'M']].describe()
```

---

## RFMè¯„åˆ†ä¸åˆ†å±‚

```python
    def score_rfm(self, r_bins=5, f_bins=5, m_bins=5):
        """
        ç»™RFMæ‰“åˆ†ï¼ˆ1-5åˆ†ï¼‰
        æ³¨æ„ï¼šRè¶Šå°è¶Šå¥½ï¼Œæ‰€ä»¥åˆ†æ•°è¦å€’åº
        """
        # ä½¿ç”¨åˆ†ä½æ•°è¿›è¡Œæ‰“åˆ†
        self.rfm['R_score'] = pd.qcut(self.rfm['R'], q=r_bins, labels=[5,4,3,2,1])
        self.rfm['F_score'] = pd.qcut(self.rfm['F'].rank(method='first'), q=f_bins, labels=[1,2,3,4,5])
        self.rfm['M_score'] = pd.qcut(self.rfm['M'], q=m_bins, labels=[1,2,3,4,5])
        
        # è½¬æ¢ä¸ºæ•°å€¼å‹
        self.rfm['R_score'] = self.rfm['R_score'].astype(int)
        self.rfm['F_score'] = self.rfm['F_score'].astype(int)
        self.rfm['M_score'] = self.rfm['M_score'].astype(int)
        
        # ç»¼åˆRFMå¾—åˆ†
        self.rfm['RFM_score'] = (self.rfm['R_score'].astype(str) + 
                                  self.rfm['F_score'].astype(str) + 
                                  self.rfm['M_score'].astype(str))
        
        return self.rfm
    
    def segment_users(self):
        """æ ¹æ®RFMè¿›è¡Œç”¨æˆ·åˆ†å±‚"""
        def get_segment(row):
            r, f, m = row['R_score'], row['F_score'], row['M_score']
            
            # å®šä¹‰åˆ†å±‚è§„åˆ™
            if r >= 4 and f >= 4 and m >= 4:
                return 'é‡è¦ä»·å€¼å®¢æˆ·'
            elif r >= 4 and f >= 4 and m <= 2:
                return 'é‡è¦ä¿æŒå®¢æˆ·'
            elif r >= 4 and f <= 2 and m >= 4:
                return 'é‡è¦å‘å±•å®¢æˆ·'
            elif r <= 2 and f >= 4 and m >= 4:
                return 'é‡è¦æŒ½ç•™å®¢æˆ·'
            elif r >= 4 and f <= 2 and m <= 2:
                return 'æ–°å®¢æˆ·'
            elif r <= 2 and f >= 4 and m <= 2:
                return 'ä¸€èˆ¬ä¿æŒå®¢æˆ·'
            elif r <= 2 and f <= 2 and m >= 4:
                return 'æ½œåŠ›å®¢æˆ·'
            elif r <= 2 and f <= 2 and m <= 2:
                return 'æµå¤±å®¢æˆ·'
            else:
                return 'ä¸€èˆ¬å®¢æˆ·'
        
        self.rfm['å®¢æˆ·åˆ†å±‚'] = self.rfm.apply(get_segment, axis=1)
        return self.rfm
```

---

## å¯è§†åŒ–åˆ†æ

```python
import matplotlib.pyplot as plt
import seaborn as sns

class RFMVisualizer:
    def __init__(self, analyzer):
        self.analyzer = analyzer
        plt.style.use('seaborn-v0_8')
    
    def plot_rfm_distribution(self):
        """RFMæŒ‡æ ‡åˆ†å¸ƒå›¾"""
        fig, axes = plt.subplots(1, 3, figsize=(15, 4))
        
        # Råˆ†å¸ƒ
        axes[0].hist(self.analyzer.rfm['R'], bins=30, color='skyblue', edgecolor='black')
        axes[0].set_title('Recency Distribution\n(Last Purchase Days)', fontsize=12)
        axes[0].set_xlabel('Days Since Last Purchase')
        axes[0].set_ylabel('Number of Users')
        axes[0].axvline(self.analyzer.rfm['R'].mean(), color='red', linestyle='--', 
                       label=f'Mean: {self.analyzer.rfm["R"].mean():.0f}')
        axes[0].legend()
        
        # Fåˆ†å¸ƒ
        axes[1].hist(self.analyzer.rfm['F'], bins=30, color='lightgreen', edgecolor='black')
        axes[1].set_title('Frequency Distribution\n(Purchase Count)', fontsize=12)
        axes[1].set_xlabel('Number of Purchases')
        axes[1].set_ylabel('Number of Users')
        axes[1].axvline(self.analyzer.rfm['F'].mean(), color='red', linestyle='--',
                       label=f'Mean: {self.analyzer.rfm["F"].mean():.1f}')
        axes[1].legend()
        
        # Måˆ†å¸ƒ
        axes[2].hist(self.analyzer.rfm['M'], bins=30, color='salmon', edgecolor='black')
        axes[2].set_title('Monetary Distribution\n(Total Spent)', fontsize=12)
        axes[2].set_xlabel('Total Amount')
        axes[2].set_ylabel('Number of Users')
        axes[2].axvline(self.analyzer.rfm['M'].mean(), color='red', linestyle='--',
                       label=f'Mean: Â¥{self.analyzer.rfm["M"].mean():.0f}')
        axes[2].legend()
        
        plt.tight_layout()
        plt.savefig('rfm_distribution.png', dpi=300, bbox_inches='tight')
        plt.show()
    
    def plot_segment_pie(self):
        """å®¢æˆ·åˆ†å±‚é¥¼å›¾"""
        segment_counts = self.analyzer.rfm['å®¢æˆ·åˆ†å±‚'].value_counts()
        
        colors = plt.cm.Set3(np.linspace(0, 1, len(segment_counts)))
        
        plt.figure(figsize=(10, 8))
        wedges, texts, autotexts = plt.pie(
            segment_counts, 
            labels=segment_counts.index,
            autopct='%1.1f%%',
            colors=colors,
            startangle=90
        )
        
        plt.title('User Segmentation Distribution', fontsize=16, fontweight='bold')
        plt.axis('equal')
        plt.savefig('segment_pie.png', dpi=300, bbox_inches='tight')
        plt.show()
        
        return segment_counts
    
    def plot_segment_comparison(self):
        """å„åˆ†å±‚å¯¹æ¯”æŸ±çŠ¶å›¾"""
        segment_stats = self.analyzer.rfm.groupby('å®¢æˆ·åˆ†å±‚').agg({
            'R': 'mean',
            'F': 'mean', 
            'M': 'mean',
            'ç”¨æˆ·ID': 'count'
        }).rename(columns={'ç”¨æˆ·ID': 'ç”¨æˆ·æ•°'}).round(2)
        
        fig, axes = plt.subplots(2, 2, figsize=(14, 10))
        
        # ç”¨æˆ·æ•°
        axes[0,0].barh(segment_stats.index, segment_stats['ç”¨æˆ·æ•°'], color='steelblue')
        axes[0,0].set_title('User Count by Segment', fontsize=12)
        axes[0,0].set_xlabel('Number of Users')
        
        # å¹³å‡Rå€¼
        axes[0,1].barh(segment_stats.index, segment_stats['R'], color='coral')
        axes[0,1].set_title('Average Recency by Segment', fontsize=12)
        axes[0,1].set_xlabel('Days Since Last Purchase')
        
        # å¹³å‡Få€¼
        axes[1,0].barh(segment_stats.index, segment_stats['F'], color='lightgreen')
        axes[1,0].set_title('Average Frequency by Segment', fontsize=12)
        axes[1,0].set_xlabel('Average Purchase Count')
        
        # å¹³å‡Må€¼
        axes[1,1].barh(segment_stats.index, segment_stats['M'], color='gold')
        axes[1,1].set_title('Average Monetary by Segment', fontsize=12)
        axes[1,1].set_xlabel('Average Total Spent')
        
        plt.tight_layout()
        plt.savefig('segment_comparison.png', dpi=300, bbox_inches='tight')
        plt.show()
        
        return segment_stats
```

---

## è¿è¥ç­–ç•¥å»ºè®®

```python
def generate_strategy_report(analyzer):
    """ç”Ÿæˆè¿è¥ç­–ç•¥æŠ¥å‘Š"""
    
    strategies = {
        'é‡è¦ä»·å€¼å®¢æˆ·': {
            'ç‰¹å¾': 'æœ€è¿‘è´­ä¹°ã€é«˜é¢‘ã€é«˜æ¶ˆè´¹',
            'å æ¯”': '',
            'ç­–ç•¥': [
                'VIPä¸“å±æœåŠ¡ï¼Œæä¾›1å¯¹1å®¢æœ',
                'æ–°å“ä¼˜å…ˆä½“éªŒæƒ',
                'ç§¯åˆ†ç¿»å€ã€ç”Ÿæ—¥ç‰¹æƒ',
                'é‚€è¯·æˆä¸ºå“ç‰Œå¤§ä½¿'
            ]
        },
        'é‡è¦ä¿æŒå®¢æˆ·': {
            'ç‰¹å¾': 'æœ€è¿‘è´­ä¹°ã€é«˜é¢‘ã€ä½†æ¶ˆè´¹ä½',
            'å æ¯”': '',
            'ç­–ç•¥': [
                'æ¨é€é«˜å®¢å•ä»·å•†å“',
                'æ»¡å‡åˆ¸åˆºæ¿€æ¶ˆè´¹å‡çº§',
                'ç»„åˆå¥—é¤æ¨è',
                'ä¼šå‘˜ç­‰çº§æ¿€åŠ±'
            ]
        },
        'é‡è¦å‘å±•å®¢æˆ·': {
            'ç‰¹å¾': 'æœ€è¿‘è´­ä¹°ã€æ¶ˆè´¹é«˜ã€ä½†é¢‘æ¬¡ä½',
            'å æ¯”': '',
            'ç­–ç•¥': [
                'å®šæœŸå¤è´­æé†’',
                'è®¢é˜…åˆ¶æœåŠ¡æ¨è',
                'ä¸ªæ€§åŒ–æ¨èç®—æ³•',
                'é™æ—¶ä¼˜æƒ ä¿ƒæ´»'
            ]
        },
        'é‡è¦æŒ½ç•™å®¢æˆ·': {
            'ç‰¹å¾': 'æ›¾ç»é«˜é¢‘é«˜æ¶ˆè´¹ï¼Œä½†å¾ˆä¹…æ²¡æ¥äº†',
            'å æ¯”': '',
            'ç­–ç•¥': [
                'å¤§é¢ä¼˜æƒ åˆ¸å¬å›',
                'çŸ­ä¿¡/ç”µè¯å…³æ€€',
                'è€å®¢ä¸“å±æ´»åŠ¨',
                'äº†è§£æµå¤±åŸå› '
            ]
        },
        'æ–°å®¢æˆ·': {
            'ç‰¹å¾': 'æœ€è¿‘æ‰æ¥ï¼Œæ¶ˆè´¹å°‘',
            'å æ¯”': '',
            'ç­–ç•¥': [
                'æ–°æ‰‹å¼•å¯¼æ•™ç¨‹',
                'é¦–å•ä¼˜æƒ ',
                'æ–°äººä¸“äº«ç¤¼åŒ…',
                'å¿«é€Ÿå»ºç«‹ä¿¡ä»»'
            ]
        },
        'ä¸€èˆ¬ä¿æŒå®¢æˆ·': {
            'ç‰¹å¾': 'ä»¥å‰å¸¸æ¥ä½†æ¶ˆè´¹ä½ï¼Œç°åœ¨ä¸æ¥äº†',
            'å æ¯”': '',
            'ç­–ç•¥': [
                'ä½æˆæœ¬è§¦è¾¾ï¼ˆé‚®ä»¶/æ¨é€ï¼‰',
                'å°é¢ä¼˜æƒ åˆ¸',
                'éšç¼˜ç»´æŠ¤'
            ]
        },
        'æ½œåŠ›å®¢æˆ·': {
            'ç‰¹å¾': 'æ¶ˆè´¹é«˜ä½†å¾ˆä¹…æ²¡æ¥ï¼Œä¸”æ¬¡æ•°å°‘',
            'å æ¯”': '',
            'ç­–ç•¥': [
                'åˆ†æé¦–æ¬¡è´­ä¹°ä½“éªŒ',
                'é’ˆå¯¹æ€§æ”¹è¿›äº§å“',
                'å®šå‘å¹¿å‘ŠæŠ•æ”¾'
            ]
        },
        'æµå¤±å®¢æˆ·': {
            'ç‰¹å¾': 'å¾ˆä¹…æ²¡æ¥ã€æ¶ˆè´¹å°‘ã€æ¬¡æ•°å°‘',
            'å æ¯”': '',
            'ç­–ç•¥': [
                'æ”¾å¼ƒæ²»ç–—ï¼Œå‡å°‘æŠ•å…¥',
                'æä½æˆæœ¬çš„å¶å°”è§¦è¾¾',
                'èµ„æºæŠ•å…¥åˆ°å…¶ä»–ç¾¤ä½“'
            ]
        }
    }
    
    # è®¡ç®—å„å±‚å æ¯”
    segment_counts = analyzer.rfm['å®¢æˆ·åˆ†å±‚'].value_counts()
    total_users = len(analyzer.rfm)
    
    print("="*60)
    print("ã€RFMç”¨æˆ·åˆ†å±‚è¿è¥ç­–ç•¥æŠ¥å‘Šã€‘")
    print("="*60)
    
    for segment, info in strategies.items():
        count = segment_counts.get(segment, 0)
        percentage = count / total_users * 100
        info['å æ¯”'] = f"{percentage:.1f}%"
        
        print(f"\nğŸ“Š {segment} ({count}äºº, {percentage:.1f}%)")
        print(f"   ç‰¹å¾: {info['ç‰¹å¾']}")
        print(f"   ç­–ç•¥:")
        for i, strategy in enumerate(info['ç­–ç•¥'], 1):
            print(f"      {i}. {strategy}")
    
    return strategies
```

---

## ä¸»ç¨‹åºè¿è¡Œ

```python
def main():
    """ä¸»ç¨‹åº"""
    print("="*60)
    print("RFMç”¨æˆ·è¡Œä¸ºåˆ†æç³»ç»Ÿ")
    print("="*60)
    
    # 1. åˆå§‹åŒ–åˆ†æå™¨
    print("\n[1/5] åŠ è½½æ•°æ®...")
    analyzer = RFMAnalyzer('user_transactions.csv')
    
    # 2. è®¡ç®—RFM
    print("[2/5] è®¡ç®—RFMæŒ‡æ ‡...")
    rfm = analyzer.calculate_rfm()
    print("\nRFMæŒ‡æ ‡ç»Ÿè®¡:")
    print(analyzer.rfm_summary())
    
    # 3. è¯„åˆ†ä¸åˆ†å±‚
    print("\n[3/5] RFMè¯„åˆ†ä¸ç”¨æˆ·åˆ†å±‚...")
    analyzer.score_rfm()
    analyzer.segment_users()
    print("\nå„åˆ†å±‚äººæ•°:")
    print(analyzer.rfm['å®¢æˆ·åˆ†å±‚'].value_counts())
    
    # 4. å¯è§†åŒ–
    print("\n[4/5] ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨...")
    visualizer = RFMVisualizer(analyzer)
    visualizer.plot_rfm_distribution()
    visualizer.plot_segment_pie()
    visualizer.plot_segment_comparison()
    print("  âœ“ å›¾è¡¨å·²ä¿å­˜")
    
    # 5. ç­–ç•¥æŠ¥å‘Š
    print("\n[5/5] ç”Ÿæˆè¿è¥ç­–ç•¥...")
    generate_strategy_report(analyzer)
    
    # å¯¼å‡ºç»“æœ
    output_file = 'rfm_analysis_result.csv'
    analyzer.rfm.to_csv(output_file, index=False, encoding='utf-8-sig')
    print(f"\n  âœ“ è¯¦ç»†ç»“æœå·²ä¿å­˜: {output_file}")
    
    print("\n" + "="*60)
    print("åˆ†æå®Œæˆï¼")
    print("="*60)

if __name__ == "__main__":
    main()
```

---

## é¡¹ç›®æ€»ç»“

### å­¦åˆ°çš„æŠ€èƒ½
- âœ… RFMæ¨¡å‹çš„åŸç†ä¸åº”ç”¨
- âœ… ç”¨æˆ·åˆ†å±‚çš„é‡åŒ–æ–¹æ³•
- âœ… åŸºäºæ•°æ®çš„è¿è¥å†³ç­–
- âœ… å¤šç»´åº¦æ•°æ®å¯è§†åŒ–

### RFMçš„ä»·å€¼
1. **ç²¾å‡†è¥é”€**ï¼šé’±èŠ±åœ¨åˆ€åˆƒä¸Š
2. **èµ„æºä¼˜åŒ–**ï¼šè¯†åˆ«æœ€æœ‰ä»·å€¼çš„ç”¨æˆ·
3. **ç­–ç•¥å·®å¼‚åŒ–**ï¼šä¸åŒç”¨æˆ·ä¸åŒå¯¹å¾…
4. **æ•ˆæœå¯è¡¡é‡**ï¼šåˆ†å±‚åè¿½è¸ªè½¬åŒ–ç‡

### æ‰©å±•æ–¹å‘
- ç»“åˆæœºå™¨å­¦ä¹ é¢„æµ‹ç”¨æˆ·LTV
- æ„å»ºç”¨æˆ·æµå¤±é¢„è­¦æ¨¡å‹
- A/Bæµ‹è¯•éªŒè¯ç­–ç•¥æ•ˆæœ
- å®æ—¶RFMçœ‹æ¿å¼€å‘

---

## ä¸‹èŠ‚é¢„å‘Š

ä¸‹ä¸€é¡¹ç›®æ˜¯**åº“å­˜åˆ†æä¸é¢„æµ‹**ï¼Œå­¦ä¹ å¦‚ä½•ç”¨æ—¶é—´åºåˆ—æ–¹æ³•é¢„æµ‹å•†å“é”€é‡ï¼Œä¼˜åŒ–åº“å­˜ç®¡ç†ã€‚

ğŸ‘‰ **[ç»§ç»­é˜…è¯»ï¼šé¡¹ç›®3-åº“å­˜åˆ†æä¸é”€é‡é¢„æµ‹](/course/AIç›¸å…³/äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾/ads/openclaw/data-analysis/20260301010201-é¡¹ç›®3-åº“å­˜åˆ†æä¸é”€é‡é¢„æµ‹/)**

---

## ğŸ’¬ åŠ å…¥å­¦ä¹ äº¤æµç¾¤

æ‰«ç åŠ å…¥**Pythonå­¦ä¹ äº¤æµç¾¤**ï¼Œå’Œæ•°åƒååŒå­¦ä¸€èµ·è¿›æ­¥ï¼š

ğŸ‘‰ **[ç‚¹å‡»åŠ å…¥äº¤æµç¾¤](http://www.python4office.cn/wechat-group/)**

ç¾¤é‡Œä¸å®šæœŸåˆ†äº«ï¼š
- æ•°æ®åˆ†æå®æˆ˜æ¡ˆä¾‹
- Pythonå­¦ä¹ èµ„æ–™
- æ±‚èŒé¢è¯•ç»éªŒ
- è¡Œä¸šæœ€æ–°åŠ¨æ€

---

## æ¨èï¼šAI Pythonæ•°æ®åˆ†æå®æˆ˜è¥

ğŸ **é™æ—¶ç¦åˆ©**ï¼šé€ã€Šåˆ©ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æã€‹å®ä½“ä¹¦

ğŸ‘‰ **[ç‚¹å‡»äº†è§£è¯¦æƒ…](https://mp.weixin.qq.com/s/uxCILtn9cfIsJR8PqOxlGQ)**

---

## è¯¾ç¨‹å¯¼èˆª

**ä¸Šä¸€ç¯‡ï¼š** [é¡¹ç›®1-é”€å”®æ•°æ®åˆ†ææŠ¥è¡¨è‡ªåŠ¨åŒ–](/course/AIç›¸å…³/äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾/ads/openclaw/data-analysis/20260301001301-é¡¹ç›®1-é”€å”®æ•°æ®åˆ†ææŠ¥è¡¨è‡ªåŠ¨åŒ–/)

**ä¸‹ä¸€ç¯‡ï¼š** [é¡¹ç›®3-åº“å­˜åˆ†æä¸é”€é‡é¢„æµ‹](/course/AIç›¸å…³/äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾/ads/openclaw/data-analysis/20260301010201-é¡¹ç›®3-åº“å­˜åˆ†æä¸é”€é‡é¢„æµ‹/)

---

*PSï¼šRFMæ¨¡å‹æ˜¯ç”¨æˆ·è¿è¥çš„æ ¸æ­¦å™¨ã€‚æŒæ¡å®ƒï¼Œä½ å°±æŒæ¡äº†ç²¾ç»†åŒ–è¿è¥çš„æ ¸å¿ƒèƒ½åŠ›ã€‚*
