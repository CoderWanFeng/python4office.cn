---
title: 《MCP、Agent、RAG、工作流、插件别再傻傻分不清！一张图看懂 AI 全链路积木怎么搭》
date: 2025-07-31 23:16:36
tags: [ai,gpt,大模型,国产,机器人]
---



<p align="center" id='进群-banner'>
    <a target="_blank" href='https://mp.weixin.qq.com/s/0GrWWSQ8sKs-WA8WoN3Ztg?payreadticket=HPsk3SM42QLKkwlPgzoQN00eTUDy7x7I70-jcY9jIG2bWFmjZvB7r1mF10OiNSkxknfiN08&scene=1&click_id=1'>
    <img src="https://raw.gitcode.com/user-images/assets/5027920/d78ad96d-6a5e-49fa-9a6d-ba98ec1a1293/image.png" width="100%"/>
    </a>   
</p>

<p align="center">
	👉 <a target="_blank" href="https://www.python-office.com/">项目官网：https://www.python-office.com/</a> 👈
</p>
<p align="center">
	👉 <a target="_blank" href="http://www.python4office.cn/wechat-group/">本开源项目的交流群</a> 👈
</p>



<p align="center" name="gitcode">
	<a target="_blank" href='https://gitcode.com/CoderWanFeng1/python-office'>
		<img src='https://gitcode.com/CoderWanFeng1/python-office/star/badge.svg?theme=dark' alt='gitcode star'/>
	</a>	
	    <a target="_blank" href='https://github.com/CoderWanFeng/python-office'>
    <img src="https://img.shields.io/github/stars/CoderWanFeng/python-office.svg?style=social" alt="github star"/>
    </a>
    	<a target="_blank" href='https://gitee.com/CoderWanFeng//python-office/'>
		<img src='https://gitee.com/CoderWanFeng//python-office/badge/star.svg?theme=dark' alt='gitee star'/>
	</a>
	<a target="_blank" href='https://gitcode.com/CoderWanFeng1/python-office'>
<img src="https://static.pepy.tech/badge/python-office" alt="PyPI Downloads">
</a>
    	<a href="http://www.python4office.cn/wechat-group/">
	<img src="https://img.shields.io/badge/%E5%BE%AE%E4%BF%A1-%E4%BA%A4%E6%B5%81%E7%BE%A4-brightgreen"/>
  </a>

</p>


<!-- more -->

把 MCP、Agent、RAG、工作流（Workflow）、插件（Plugin）放在同一张图里，就能看出它们其实是**不同抽象层次**的积木。用一句话先给结论：

> **插件 ≈ 最小功能单元，工作流 ≈ 编排插件的脚本，Agent ≈ 带大脑的工作流引擎，RAG ≈ 一种特殊的插件，MCP ≈ 让插件/工作流/Agent 能“热插拔”的标准底座。**

---

### 1. 五者分层图（越往上越接近业务，越往下越接近基础设施）

| 层级 | 概念 | 关键词 | 举例 | 与 MCP 的关系 |
|---|---|---|---|---|
| **业务层** | **工作流 Workflow** | 顺序、分支、循环、审批 | “收到客户邮件 → LLM 提炼需求 → 查库存 → 生成订单 → 通知物流” | 工作流里的每个节点可以是 Agent 或插件；MCP 负责把这些节点注册成可复用服务。 |
| **执行层** | **Agent 智能体** | 规划、记忆、工具调用、自我反思 | AutoGPT、LangChain Agent、Claude Computer Use | Agent 的“工具箱”通过 MCP 统一暴露，Agent 本身也可以被工作流调用。 |
| **能力层** | **插件 Plugin** | 单一接口、原子功能 | “查天气插件”“发邮件插件”“数据库查询插件” | 插件可以包装成 MCP Server，实现一次编写，任何 Host 即插即用。 |
| **知识层** | **RAG** | 检索、增强、分段、嵌入 | 向量数据库 + 文档召回 | 常被实现为一个特殊插件，或直接内嵌在 Agent/工作流节点里；MCP 可提供统一的检索服务。 |
| **底座层** | **MCP** | 协议、注册、发现、鉴权、传输 | MCP Server（本地文件系统）、MCP Client（Claude Desktop） | 本身不提供业务功能，但让所有上层模块能“像 USB-C 一样”互联。 |

---

### 2. 用“外卖平台”类比帮助记忆

| 概念 | 外卖平台类比 |
|---|---|
| **插件** | 一家家具体餐馆（只提供“宫保鸡丁”或“奶茶”） |
| **工作流** | “下单 → 备餐 → 骑手取餐 → 送达”整条链路脚本 |
| **Agent** | 平台调度大脑，根据天气、运力、用户忌口实时重排链路 |
| **RAG** | 实时爬取菜单更新，保证用户看到的“今日特价”不是过期数据 |
| **MCP** | 平台统一 API：餐馆入驻标准、骑手接口、支付协议，谁接入都能跑 |

---

### 3. 一句话总结每个区别

- **插件 vs 工作流**  
  插件 = 一个工具函数；工作流 = 把多个函数按顺序/条件串起来的 DAG。

- **工作流 vs Agent**  
  工作流是“死脚本”；Agent 是“活大脑”，能根据中间结果动态改写脚本。

- **RAG vs 插件**  
  RAG 是一种**知识类插件**（查文档），但插件还可以是“执行类”（发邮件）、“计算类”（跑 SQL）。

- **MCP vs 其他四者**  
  MCP 不是业务概念，而是**让插件/Agent/工作流可以跨平台热插拔的“统一总线”**；没有 MCP，每个 Agent 都要单独对接一次 Slack、一次 Notion、一次数据库，有了 MCP 只需对接一次 MCP Server 即可。

---

### 4. 选型速查表

| 你的需求 | 先用哪个概念 | 备注 |
|---|---|---|
| 只想给 Chatbot 加 3 个工具按钮 | 写 3 个插件 | 暂不引入工作流 |
| 想让 LLM 自动完成多步审批 | 设计工作流 + Agent | 工具用 MCP 暴露 |
| 想让不同团队共享同一批企业 API | 用 MCP 封装 API | 上层可以是 Agent 或工作流 |
| 客服需要实时知识库 | RAG 插件 | 也可通过 MCP 提供检索服务 |

一句话：**插件是原子，工作流是剧本，Agent 是导演，RAG 是提词器，MCP 是整个剧场的标准化电源插座。**



---

![](https://cos.python-office.com/ads/gzh/sub-py.jpg)